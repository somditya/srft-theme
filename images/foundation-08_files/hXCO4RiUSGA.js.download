;/*FB_PKG_DELIM*/

__d("ConsentPromptEventConstants",[],(function(a,b,c,d,e,f){"use strict";a="consent:prompt:input:change:persistent";b="consent:prompt:user:action";c="consent:prompt:state:update";d="consent:prompt:content:scroll";f.CONSENT_PROMPT_INPUT_CHANGE_PERSISTENT=a;f.CONSENT_PROMPT_USER_ACTION=b;f.CONSENT_PROMPT_STATE_UPDATE=c;f.CONSENT_PROMPT_CONTENT_SCROLL=d}),66);
__d("ConsentInteractionLoggerExternalLink",["Arbiter","ConsentPromptEventConstants","Event"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.element;var b=a.href;d("Event").listen(a,"click",function(){c("Arbiter").inform(d("ConsentPromptEventConstants").CONSENT_PROMPT_USER_ACTION,{type:"content",event:"open_link",extraData:{url:b,eventTarget:"link"}})})}g.init=a}),98);
__d("ConsentInteractionLoggerToggle",["csx","Arbiter","ConsentPromptEventConstants","Event"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.element;a.type;a.extraData;a=b.querySelector("._9ri4")||null;a!==null&&(a instanceof HTMLInputElement&&c("Arbiter").inform(d("ConsentPromptEventConstants").CONSENT_PROMPT_INPUT_CHANGE_PERSISTENT,{type:"toggle",name:a.name,value:a.checked?"true":"false"},"persistent"),d("Event").listen(a,"change",function(a){a=a.target;a instanceof HTMLInputElement&&c("Arbiter").inform(d("ConsentPromptEventConstants").CONSENT_PROMPT_INPUT_CHANGE_PERSISTENT,{type:"toggle",name:a.name,value:a.checked?"true":"false"},"persistent")}))}g.init=a}),98);
__d("observeIntersection",["invariant","ErrorGuard","IntersectionObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=typeof WeakMap==="function",j={__noRoot:!0},k=i?new WeakMap():new Map();function l(a){var b=a.threshold;if(Array.isArray(b)){var c={};b.forEach(function(a){c[String(a)]=!0});b=Object.keys(c).sort()}var d=babelHelpers["extends"]({},a,{threshold:b}),e={};Object.keys(d).sort().forEach(function(a){e[a]=d[a]});return JSON.stringify(e)}function a(a,b,d){d===void 0&&(d={});var e=l({rootMargin:d.rootMargin,threshold:d.threshold}),f=d.root||j,g=k.get(f);g==null&&(g={},k.set(f,g));var m=g[e];if(m==null){d=new(c("IntersectionObserver"))(function(a){a.forEach(function(a){m!=null||h(0,2439);var b=m.targetToCallbacksMap.get(a.target);b&&b.length>0&&b.forEach(function(b){c("ErrorGuard").applyWithGuard(b,null,[a],{name:"observeIntersection"})})})},d);m={intersectionObserver:d,referenceCount:0,targetToCallbacksMap:i?new WeakMap():new Map()};g[e]=m}d=m.targetToCallbacksMap.get(a);d==null&&(m.intersectionObserver.observe(a),m.referenceCount+=1,d=[],m.targetToCallbacksMap.set(a,d));d.push(b);var n=!1,o=function(){if(n)return;var c=m.targetToCallbacksMap.get(a);c!=null||h(0,2440);if(c.length===1)m.intersectionObserver.unobserve(a),m.targetToCallbacksMap["delete"](a),m.referenceCount-=1,a=null;else{var d=c.indexOf(b);d!==-1||h(0,2441);c.splice(d,1)}m.referenceCount===0&&(g!=null||h(0,2442),delete g[e],f&&Object.keys(g).length===0&&k["delete"](f));b=null;a=null;f=null;n=!0};return{remove:function(){o&&(o(),o=null)}}}f.exports=a}),34);
__d("ConsentPromptScrollWatcher",["Arbiter","ConsentPromptEventConstants","intersectionObserverEntryIsIntersecting","observeIntersection"],(function(a,b,c,d,e,f,g){function a(a){c("observeIntersection")(a.elem,function(a){c("Arbiter").inform(d("ConsentPromptEventConstants").CONSENT_PROMPT_CONTENT_SCROLL,{has_content_below_fold:c("intersectionObserverEntryIsIntersecting")(a)})})}g.init=a}),98);
__d("MConsentPromptFormDataFilledIn",["cx","Arbiter","CSS","ConsentPromptEventConstants","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.elem,e=a.cases,f=a.inputs;c("Arbiter").subscribe(d("ConsentPromptEventConstants").CONSENT_PROMPT_STATE_UPDATE,function(a,d){var g=f.some(function(a){return a.every(function(a){var b,e=a.name;b=(b=a.value)!=null?b:null;a=(a=a["is-empty"])!=null?a:null;e=d[e];if(b!==null)return b===e;else if(a!==null)return a===!0?e.length===0:e.length!==0;throw c("unrecoverableViolation")("Expect either `value` or `is-empty` conditions to be provided.","consent_ui_infra")})}),h;e.forEach(function(a){var b=a["case-value"]==="true";b===g&&(h=a.state)});a=null;switch(h){case"disabled":a=!0;break;case"enabled":a=!1;break}a!=null&&c("CSS").conditionClass(b,"_9uv4",a)})}g.updateButtonState=a}),98);
__d("MConsentPromptLayoutAdditionalContent",["cx","Arbiter","CSS","ConsentPromptEventConstants","Event","destroyOnUnload"],(function(a,b,c,d,e,f,g,h){"use strict";var i="additional_content",j="show",k="hide";function a(a){var b=c("Event").listen(a.trigger,"click",function(b){b.preventDefault();b="consent_prompt_additional_content_"+a.additionalContentId;var e=document.querySelector("#"+b)||null;if(e instanceof HTMLElement){var f=e==null?void 0:e.parentElement;f=(f==null?void 0:f.children)||[];for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(g){if(h>=f.length)break;k=f[h++]}else{h=f.next();if(h.done)break;k=h.value}k=k;d("CSS").conditionClass(k,"_a1c7",b===k.id);b===e.id&&c("Arbiter").inform(d("ConsentPromptEventConstants").CONSENT_PROMPT_USER_ACTION,{type:i,event:j,extraData:{name:a.additionalContentId,eventTarget:"additional_content"}})}}});c("destroyOnUnload")(function(){b.remove()})}function b(a){var b=c("Event").listen(a.trigger,"click",function(){d("CSS").conditionClass(a.additionalContentSheet,"_a1c7",!1),c("Arbiter").inform(d("ConsentPromptEventConstants").CONSENT_PROMPT_USER_ACTION,{type:i,event:k,extraData:{name:a.additionalContentId,eventTarget:"additional_content"}})});c("destroyOnUnload")(function(){b.remove()})}g.show=a;g.hide=b}),98);
__d("CLPConsentInteractionsEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADDITIONAL_CONTENT_DISMISS:"consent_interactions_additional_content_dismiss",ADDITIONAL_CONTENT_IMPRESSION:"consent_interactions_additional_content_impression",CONTENT_IMPRESSION:"consent_interactions_content_impression",CUSTOM_CLICK:"consent_interactions_custom_click",CUSTOM_FOCUS:"consent_interactions_custom_focus",CUSTOM_OFF:"consent_interactions_custom_off",CUSTOM_ON:"consent_interactions_custom_on",FLOW_ACCEPT:"consent_interactions_flow_accept",FLOW_BACK:"consent_interactions_flow_back",FLOW_DENY:"consent_interactions_flow_deny",FLOW_DISMISS:"consent_interactions_flow_dismiss",FLOW_ERROR:"consent_interactions_flow_error",FLOW_START:"consent_interactions_flow_start",FOLDER_OFF:"consent_interactions_folder_off",FOLDER_ON:"consent_interactions_folder_on",LINK_OPEN:"consent_interactions_link_open",MENU_OFF:"consent_interactions_menu_off",MENU_ON:"consent_interactions_menu_on",MENU_SELECT:"consent_interactions_menu_select",PROMPT_ACCEPT:"consent_interactions_prompt_accept",PROMPT_BACK:"consent_interactions_prompt_back",PROMPT_CONTINUE:"consent_interactions_prompt_continue",PROMPT_DENY:"consent_interactions_prompt_deny",PROMPT_DISMISS:"consent_interactions_prompt_dismiss",PROMPT_ERROR:"consent_interactions_prompt_error",PROMPT_IMPRESSION:"consent_interactions_prompt_impression",SELECT_ON:"consent_interactions_select_on",TEXT_INPUT_BLUR:"consent_interactions_text_input_blur",TEXT_INPUT_CHANGE:"consent_interactions_text_input_change",TEXT_INPUT_FOCUS:"consent_interactions_text_input_focus",TOGGLE_OFF:"consent_interactions_toggle_off",TOGGLE_ON:"consent_interactions_toggle_on"});c=a;f["default"]=c}),66);
__d("CLPConsentInteractionsEventTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADDITIONAL_CONTENT:"additional_content",BUTTON:"button",CONTENT:"content",CUSTOM:"custom",FLOW:"flow",FOLDER:"folder",LINK:"link",MENU:"menu",PROMPT:"prompt",SELECT:"select",TEXT_INPUT:"text_input",TOGGLE:"toggle"});c=a;f["default"]=c}),66);
__d("XConsentLoggingPlatformController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/consent/consent_logging_platform/",{table:{type:"String",required:!0},event:{type:"String",required:!0},top_level_columns:{type:"String",required:!0},event_data:{type:"String"}})}),null);
__d("XConsentPromptInteractionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/consent/{flow}/interactions/",{flow:{type:"Enum",required:!0,enumType:1},context:{type:"TypeAssert"},device_id:{type:"String"},params:{type:"TypeAssert"},prompt:{type:"Enum",enumType:1},source:{type:"String"},surface:{type:"Enum",enumType:1},flow_step_type:{type:"Enum",required:!0,enumType:1},event_type:{type:"Enum",required:!0,enumType:1},flow_data_type:{type:"Enum",enumType:1},client_interactions_extra_data:{type:"TypeAssert"}})}),null);
__d("MConsentPromptLoggerHub",["Arbiter","CLPConsentInteractionsEventTarget","ConsentPromptEventConstants","FBLogger","MRequest","XConsentLoggingPlatformController","XConsentPromptInteractionsController"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.flow,e=a.deviceId,f=a.prompt,g=a.source,j=a.surface,l=a.extraParams,m=a.promptContext,n=a.shouldLogToLoggingPlatform;c("Arbiter").subscribe([d("ConsentPromptEventConstants").CONSENT_PROMPT_INPUT_CHANGE_PERSISTENT],function(a,c){a=h(c);a!=null&&k({flow:b,deviceId:e,prompt:f,source:g,surface:j,extraParams:l,promptContext:m,shouldLogToLoggingPlatform:n},a)},"new");c("Arbiter").subscribe([d("ConsentPromptEventConstants").CONSENT_PROMPT_USER_ACTION],function(a,c){a=i(c);a!==void 0&&k({flow:b,deviceId:e,prompt:f,source:g,surface:j,extraParams:l,promptContext:m,shouldLogToLoggingPlatform:n},a)},"new")}function h(a){var b=a.event,c=a.type,d=a.name;a=a.value;if(c==="multiple_choice")return{type:"input",event:b==="checked"?"on":"off",extraData:{type:c,name:d,value:a}};if(c==="toggle")return{type:"input",event:a==="true"?"on":"off",extraData:{type:c,name:d,value:a,eventTarget:"toggle"}};if(c==="select")return{type:"input",event:"on",extraData:{type:c,name:d,value:a,eventTarget:"select"}};if(c==="text")return{type:"input",event:"change",extraData:{type:c,name:d,eventTarget:"text_input"}}}function i(a){var b=a.type,d=a.event;a=a.extraData;var e=null,f=null;if(b==="additional_content"){f="additional_content";if(d==="show")e="impression";else if(d==="hide")e="dismiss";else throw c("FBLogger")("consent_ui_infra").mustfixThrow("For "+b+" event type must be show or hide")}b==="menu"&&(d==="show"||d==="hide"?(f="menu",e=d==="show"?"on":"off"):(f="menu",e="select"));b==="text"&&(f="input",a==null?void 0:delete a.value,d==="focus"?e="focus":d==="blur"&&(e="blur"));((a==null?void 0:a.type)==="folders"||(a==null?void 0:a.type)==="folder")&&(f="content",e=d==="show"?"on":"off");(a==null?void 0:a.type)==="scroll"&&(f="content",e="impression");return{type:f,event:e,extraData:(b=a)!=null?b:{}}}function j(a){var b=a.event;a=a.extraData;var d=String(a==null?void 0:a.name),e=c("CLPConsentInteractionsEventTarget").cast(String(a==null?void 0:a.eventTarget));if(e==null){c("FBLogger")("consent_ui_infra","consent_logging_error").mustfix("Invalid Event Target! The Event Target should be one of type CLPConsentInteractionsEventTarget");return null}switch(e){case"toggle":return{name:d,value:String(a==null?void 0:a.value),event:b==="on"?"consent_interactions_toggle_on":"consent_interactions_toggle_off"};case"select":return{name:d,value:String(a==null?void 0:a.value),event:"consent_interactions_select_on"};case"text_input":if(b==="focus"||b==="blur")return{name:d,event:b==="focus"?"consent_interactions_text_input_focus":"consent_interactions_text_input_blur"};else return{name:d,event:"consent_interactions_text_input_change"};case"additional_content":return{name:d,event:b==="impression"?"consent_interactions_additional_content_impression":"consent_interactions_additional_content_dismiss"};case"folder":return{name:d,event:b==="impression"?"consent_interactions_folder_on":"consent_interactions_folder_off"};case"menu":if(b==="on"||"off")return{name:d,event:b==="on"?"consent_interactions_menu_on":"consent_interactions_menu_off"};else return{name:JSON.stringify(a==null?void 0:a.item),event:"consent_interactions_menu_select"};case"link":return{url:JSON.stringify(a==null?void 0:a.url),event:"consent_interactions_link_open"};case"content":return{type:"scroll",screen_height_percentage:null,event:"consent_interactions_content_impression"};default:c("FBLogger")("consent_ui_infra","consent_logging_error").mustfix("Invalid Event Target! The Event Target should be one of type CLPConsentInteractionsEventTarget")}}function b(a){var b=a.flow,d=a.deviceId,e=a.prompt,f=a.source,g=a.surface,h=a.flowStepType,i=a.extraParams,j=a.promptContext,k=a.promptType;a=a.shouldLogToLoggingPlatform;var l="impression";h=c("XConsentPromptInteractionsController").getURIBuilder().setEnum("flow",b).setString("device_id",d).setEnum("prompt",e).setString("source",f).setEnum("surface",g).setEnum("flow_step_type",h).setEnum("event_type",l).setTypeAssert("context",j).setTypeAssert("params",i).getURI();l=null;if(a===!0){b={flow_name:b,config_enum:e,source:f,device_id:d,surface:g,experience_id:(a=j==null?void 0:j.experience_id)!=null?a:"msite_prompt_impression",extra_params:i};e={prompt_type:k,device_permission:null,device_permissions_result:null,privacy_control_id:null};l=c("XConsentLoggingPlatformController").getURIBuilder().setString("table","consent_interactions").setString("event","consent_interactions_prompt_impression").setString("top_level_columns",JSON.stringify(b)).setString("event_data",JSON.stringify(e)).getURI()}try{new(c("MRequest"))(h).send(),l!==null&&new(c("MRequest"))(l).send()}catch(a){throw c("FBLogger")("consent_ui_infra").mustfixThrow(a)}}function k(a,b){var d=a.flow,e=a.deviceId,f=a.prompt,g=a.source,h=a.surface,i=a.extraParams,k=a.promptContext;a=a.shouldLogToLoggingPlatform;var l=b.type,m=b.event,n=b.extraData;l=c("XConsentPromptInteractionsController").getURIBuilder().setEnum("flow",d).setString("device_id",e).setEnum("prompt",f).setString("source",g).setEnum("surface",h).setEnum("flow_step_type",l).setEnum("event_type",m).setTypeAssert("context",k).setTypeAssert("params",i).setTypeAssert("client_interactions_extra_data",n).getURI();m=null;if(a===!0){a={flow_name:d,config_enum:f,source:g,device_id:e,surface:h,experience_id:(n=k==null?void 0:k.experience_id)!=null?n:"msite_prompt_client_related_events",extra_params:i};f=(d=j(b))!=null?d:{};g=f.event;e=babelHelpers.objectWithoutPropertiesLoose(f,["event"]);g!=null&&(m=c("XConsentLoggingPlatformController").getURIBuilder().setString("table","consent_interactions").setString("event",g).setString("top_level_columns",JSON.stringify(a)).setString("event_data",JSON.stringify(e)).getURI())}try{new(c("MRequest"))(l).send(),m!==null&&new(c("MRequest"))(m).send()}catch(a){throw c("FBLogger")("consent_ui_infra").mustfixThrow(a)}}g.init=a;g.logImpression=b;g.logClientInteraction=k}),98);
__d("MConsentPromptStateUpdater",["Arbiter","ConsentPromptEventConstants"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){h=a,i()}function i(){c("Arbiter").subscribe(d("ConsentPromptEventConstants").CONSENT_PROMPT_INPUT_CHANGE_PERSISTENT,function(a,b){return j(b)},"all")}function j(a){var b=a.name;a=a.value;b=b;a=a;var e=c("Arbiter").query("CONSENT_PROMPT_STATE_UPDATE");e===null&&(e=h);e[b]=a;c("Arbiter").inform(d("ConsentPromptEventConstants").CONSENT_PROMPT_STATE_UPDATE,e,"state")}g.init=a}),98);