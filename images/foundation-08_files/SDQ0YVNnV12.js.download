;/*FB_PKG_DELIM*/

__d("MAdPreviewIFrameResizer",["$","Arbiter","DOM","FBLogger","SecurePostMessage","Stratcom","URI","ge","isInternalFBURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){var g;a={resize:function(a){b("Stratcom").listen("m:viewport:iframe-update-complete",null,function(){var c=b("ge")("ad_preview");if(!c||!parent)return;var d=!1;if(document.referrer&&b("isInternalFBURI")(new(g||(g=b("URI")))(document.referrer)))d=!0;else try{b("lowerFacebookDomain")()}catch(a){b("FBLogger")("ads_previews").catching(a).warn("Exception lowering domain"),d=!0}var e=c.offsetHeight;if(e===0)return;var f=e+"px";document.body.style.minHeight=f;b("$")("root").style.minHeight=f;b("$")("viewport").style.minHeight=f;f=b("DOM").scry(c,"article","story-div")||[];c=f[0];d?b("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(parent,{event:"fb:preview:iframe/resize",data:{frame:a,frameHeight:e,storyHeight:c?c.clientHeight:void 0}}):parent.Arbiter!=null&&parent.Arbiter.inform("iframe/resize",{frame:a,frameHeight:e,storyHeight:c?c.clientHeight:void 0},"state")}),b("Arbiter").subscribe("m:adpreview:text-truncation",function(){return b("Stratcom").invoke("m:viewport:iframe-update-complete")}),b("Stratcom").invoke("m:viewport:iframe-update-complete")}};e.exports=a}),null);
__d("LineClamp.react",["cx","DOMContainer.react","Locale","getElementText","getVendorPrefixedName","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("getVendorPrefixedName")("lineClamp");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={enableTooltip:!1},c.$2=function(a){a instanceof HTMLElement&&(c.innerElement=a,c.$3())},c.$4=function(a){a instanceof HTMLElement&&(c.rootElement=a,c.$3())},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a;this.props.lineHeight&&!this.props.customEllipsisDisableGradient&&(a={bottom:this.props.lineHeight+"px"});var b;this.props.customEllipsis&&this.props.customEllipsisDisableGradient?b=d("Locale").isRTL()?"_1osp":"_1osq":b=d("Locale").isRTL()?"_4ik3 _2k5c":"_4ik3"+(this.props.enableCustomizedStyleForEllipsis?" _6q5n":"")+(this.props.enableCustomizedStyleForEllipsis?"":" _2k5d");return i.jsx("div",{style:a,className:b,children:this.props.customEllipsis?this.props.customEllipsis:"\u2026"},"ellipsis")};e.$3=function(){if(!this.props.enableTooltipOnOverflow)return;var a=this.isOverflowing();this.state.enableTooltip!==a&&this.setState({enableTooltip:a})};e.$5=function(){return!!j&&!this.props.disableNative};e.isOverflowing=function(){var a=!1;if(!this.rootElement)return a;var b=this.rootElement;if(this.$5())a=b.scrollHeight>b.offsetHeight;else{if(!this.innerElement)return a;a=this.innerElement.offsetHeight>b.offsetHeight}return a};e.componentDidMount=function(){this.$3()};e.componentDidUpdate=function(){this.$3()};e.render=function(){var a=this.$5(),b=c("joinClasses")(this.props.className,"_4ik4"+(a?" _4ik5":"")+(this.props.width?" _8hwj":"")),d=this.props.hasXHPChildren?i.jsx(c("DOMContainer.react"),{children:this.props.children}):this.props.children,e={};this.props.lineHeight&&(e={lineHeight:this.props.lineHeight+"px"},this.props.fitHeightToShorterText?e=babelHelpers["extends"]({},e,{maxHeight:this.props.lineHeight*this.props.lines}):e=babelHelpers["extends"]({},e,{height:this.props.lineHeight*this.props.lines}));this.props.width&&(e=babelHelpers["extends"]({},e,{width:this.props.width+"px"}));a?e[j]=this.props.lines:(b=c("joinClasses")(b,"clearfix"),this.props.customEllipsisDisableGradient?d=[i.jsx("div",{className:"_1osu"},"spacer"),this.$1(),i.jsx("div",{className:"_1osv",ref:this.$2,children:this.props.children},"inner")]:d=[i.jsx("div",{className:"_4ik6",ref:this.$2,children:d},"inner"),this.$1()]);var f={};this.props.enableTooltipOnOverflow&&(f["data-hover"]="tooltip",this.state.enableTooltip&&(f["data-tooltip-content"]=a?c("getElementText")(this.rootElement):c("getElementText")(this.innerElement),this.props.tooltipDelay!=null&&(f["data-tooltip-delay"]=this.props.tooltipDelay)));return i.jsx("div",babelHelpers["extends"]({},f,{className:b,ref:this.$4,style:e,children:d}))};return b}(i.Component);g["default"]=a}),98);
__d("Newline.react",[],(function(a,b,c,d,e,f){"use strict";a="br";f["default"]=a}),66);
__d("BaseTextWithEntities.react",["Newline.react","Text.react","UnicodeUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return a.offset-b.offset||b.length-a.length}function j(a){return[].concat(a.ranges,a.aggregatedRanges,a.imageRanges,a.metaRanges,a.inlineStyleRanges,a.textDelightRanges,a.colorRanges).filter(Boolean).sort(i)}function k(a,b){a=a.split(/(\r\n|[\r\n])/);var d=[];for(var e=0;e<a.length;e++){var f=a[e];f&&d.push(h.jsx(h.Fragment,{children:e%2===1?h.jsx(c("Newline.react"),{}):b(f)},"text"+e))}return d}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=0,e=null,f=a.text,g=j(a);for(var i=0;i<g.length;i++){var l=g[i];if(l.offset<b)continue;e=e||[];l.offset>b&&e.push(h.jsx(h.Fragment,{children:k(d("UnicodeUtils").substring(f,b,l.offset),a.textRenderer)},"text"+i));e.push(h.jsx(h.Fragment,{children:a.rangeRenderer(d("UnicodeUtils").substr(f,l.offset,l.length),l)},"range"+i));b=l.offset+l.length}return h.jsxs(c("Text.react"),{className:a.className,style:a.style,children:[e,f.length>b?k(d("UnicodeUtils").substr(f,b),a.textRenderer):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MEntityLink.react",["URI","getUnqualifiedURI","isFacebookURI","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props.entity;a=a.url;if(a){var b=new(c("URI"))(a);c("isFacebookURI")(b)&&(a=c("getUnqualifiedURI")(new(c("URI"))(a)).toString());b=h.jsx("a",babelHelpers["extends"]({},this.props,{href:a,children:this.props.children}))}else b=h.jsx("span",babelHelpers["extends"]({},this.props,{children:this.props.children}));return b};return b}(h.Component);g["default"]=a}),98);
__d("MTextWithEmoticons.react",["DOMContainer.react","emojiAndEmote","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.$1=function(){return c("emojiAndEmote")(this.props.text).map(function(a,b){return a instanceof HTMLElement?h.jsx(c("DOMContainer.react"),{children:a},b):a})};d.render=function(){return h.jsx("span",babelHelpers["extends"]({},this.props,{children:this.$1()}))};return b}(h.PureComponent);g["default"]=a}),98);
__d("MTextWithEntities.react",["BaseTextWithEntities.react","MEntityLink.react","MTextWithEmoticons.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){return h.jsx(b("MTextWithEmoticons.react"),{text:a})},d.$2=function(a,b){if(d.props.rangeRenderer)return d.props.rangeRenderer(a,b);else if(b.entity)return d.$3(a,b.entity);else return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx(b("BaseTextWithEntities.react"),babelHelpers["extends"]({textRenderer:this.$1,rangeRenderer:this.$2},this.props))};d.$3=function(a,c){return h.jsx(b("MEntityLink.react"),{rel:"ignore",entity:c,target:this.props.target,children:a})};return c}(h.Component);e.exports=a}),null);
__d("OnVisible.react",["FBLogger","ReactDOM","intersectionObserverEntryIsIntersecting","observeIntersection","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=!1,c.$3=null,c.state={visible:!1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$2=!0,this.$4()};e.componentDidUpdate=function(a){this.$4(a)};e.componentWillUnmount=function(){this.$2=!1,this.$5()};e.$4=function(a){var b=this,e;try{e=d("ReactDOM").findDOMNode(this)}catch(a){return}this.$3&&(!a||a.buffer!==this.props.buffer||e!==this.$1)&&this.$5();if(!this.$3){if(!(e instanceof Element)){this.$1=null;return}this.$1=e;this.$3=c("observeIntersection")(e,function(a){a=c("intersectionObserverEntryIsIntersecting")(a);var d=a?b.props.onVisible:b.props.onHidden;b.setState({visible:a});d&&d()},{rootMargin:this.props.buffer!=null?this.props.buffer+"px":"0px"})}};e.$5=function(){this.$3&&(this.$3.remove(),this.$3=null)};e.check=function(){c("FBLogger")("onvisible").mustfix("Deprecated method `check()` was called. Remove the call immediately.")};e.reset=function(){if(this.$2===!1)return;this.$5();this.$4()};e.render=function(){var a=this.props.children;a=typeof a==="function"?a(this.state.visible):a;return h.Children.only(a)};return b}(h.Component);g["default"]=a}),98);
__d("linkifyEntityRange",["MLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){b=(b.entity||{}).url;return!b?h.jsx("span",{children:a}):h.jsx(c("MLink.react"),{href:b,target:"_blank",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MobileAdPreviewTruncatedCaption.react",["fbt","LineClamp.react","MTextWithEntities.react","OnVisible.react","linkifyEntityRange","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");b=d("react");var j=b.useCallback,k=b.useRef,l=b.useState,m=18;function a(a){var b=a.captionText,d=a.entitiesRanges,e=a.maxLineCount,f=k(null);a=l(i.jsx("span",{className:"x1mqxbix x1f6kntn xd4r4e8",children:i.jsx(c("MTextWithEntities.react"),{text:b,ranges:d,rangeRenderer:c("linkifyEntityRange")})}));var g=a[0],n=a[1];a=j(function(){var a=f.current;a=a?a.offsetHeight:0;var g=i.jsx("span",{className:"x1hw7pgo x1f6kntn xd4r4e8",children:h._("\u2026See more")});a>e*m&&n(i.jsx("div",{style:{marginLeft:"-5px"},children:i.jsx(c("LineClamp.react"),{customEllipsis:g,customEllipsisDisableGradient:!0,disableNative:!0,lineHeight:m,lines:e,children:i.jsx("span",{className:"x1mqxbix x1f6kntn xd4r4e8",children:i.jsx(c("MTextWithEntities.react"),{text:b,ranges:d,rangeRenderer:c("linkifyEntityRange")})})})}))},[b,d,e]);return i.jsx(c("OnVisible.react"),{onVisible:a,children:i.jsx("div",{style:{maxHeight:e*m+"px"},children:i.jsx("div",{ref:f,children:g})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);