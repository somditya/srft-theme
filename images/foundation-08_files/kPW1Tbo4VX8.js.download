;/*FB_PKG_DELIM*/

__d("MReactTypeaheadView",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.Renderer;return h.jsx(a,{data:this.props.data,query:this.props.query,waiting:this.props.waiting,loaderMarkup:this.props.loaderMarkup,onTouchStart:this.props.onTouchStart,onClickItem:this.props.onClickItem,simpleSearch:this.props.simpleSearch,excludedEntries:this.props.excludedEntries,maxSuggestionCount:this.props.maxSuggestionCount,closeOnTag:this.props.closeOnTag})};return b}(h.Component);e.exports=a}),null);
__d("MLoadingSpinner.react",["MLoadingIndicator.react","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return h.jsx("div",{className:this.props.className,children:h.jsx(c("MLoadingIndicator.react"),{background:"light",size:"large"})})};return b}(h.Component);g["default"]=a}),98);
__d("MTokenCollection.react",["prop-types","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.renderer,b=this.props.collection.entries.map(function(b,c){var d=null;return h.jsx(a,{collectionKey:this.props.collectionKey,entry:b,index:c,label:b.display,onRemove:this.props.onRemove,testid:void 0,truncate:this.props.truncateTokens},b.id)},this);return h.jsx("span",{className:this.props.className,onClick:this.props.onClick,role:"presentation",children:b})};return b}(h.Component);a.propTypes={className:b("prop-types").string,collection:b("prop-types").object.isRequired,collectionKey:b("prop-types").string,onClick:b("prop-types").func,onRemove:b("prop-types").func,renderer:b("prop-types").func.isRequired,tokenTestIDGenerator:b("prop-types").func,truncateTokens:b("prop-types").bool};e.exports=a}),null);
__d("MTokenRenderer.react",["cx","fbt","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.stopPropagation(),a.preventDefault(),c.props.onRemove&&c.props.onRemove(c.props.entry)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(this.props.onRemove)var a="_5snx"+(this.props.truncate?" _p9m":""),c=j.jsx("button",{"aria-label":h._("Remove"),className:a,"data-sigil":"touchable",onClick:this.$1,children:j.jsx("span",{className:"_1xe9",children:"\xa0\xd7\xa0"})});a="_7mko"+(this.props.truncate?" _p9n":"");a=j.jsx("span",{className:a,children:this.props.label});var d="_7mkp"+(this.props.truncate?" _p9o":""),e=j.jsx("input",{type:"hidden",value:this.props.entry.id,name:(this.props.entry.receivedInBackground?"unconfirmed_":"")+this.props.collectionKey+"["+this.props.index+"]"});return j.jsxs("span",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,d),children:[a,c,e]}))};return c}(j.Component);a.propTypes={collectionKey:b("prop-types").string,entry:b("prop-types").object,index:b("prop-types").number,label:b("prop-types").string.isRequired,onRemove:b("prop-types").func,testid:b("prop-types").string,truncate:b("prop-types").bool};e.exports=a}),null);
__d("MTypeaheadTouchSourceWithSuggestions",["MTypeaheadTouchSource","createDeprecatedProperties","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b,c)||this;b.setSuggestions(d);c=[];for(var e=0;e<d.length;++e)c.push(d[e].uid);b.setSuggestionsIds(c);b.setDefaultSuggestionsIds(c);return b}var d=c.prototype;d.didStart=function(){var a=this;b("MTypeaheadTouchSource").prototype.didStart.call(this);b("setTimeoutAcrossTransitions")(function(){var b=a.renderNodes(null,a.getSuggestionsIds());a.invoke("resultsready",b);a.invoke("complete")},0)};d.matchResults=function(a){if(a.length===0){var c=this.getSuggestionsIds();this.getSuggestionsIds().length===0&&(c=this.getDefaultSuggestionsIds());c=this.renderNodes(null,c);this.invoke("resultsready",c);this.invoke("complete")}else b("MTypeaheadTouchSource").prototype.matchResults.call(this,a)};return c}(b("MTypeaheadTouchSource"));b("createDeprecatedProperties")(a,{suggestions:[],suggestionsIds:[],defaultSuggestionsIds:[]});e.exports=a}),null);
__d("MReactTypeahead",["csx","cx","DOM","EventEmitter","MPageController","MReactTypeaheadView","MRecentSearchesUpdater","MSearchConst","MSearchTypeaheadLogger","MTypeaheadNullstateSource","MTypeaheadOnDemandSource","MTypeaheadTouchSource","MTypeaheadTouchSourceWithSuggestions","Parent","ReactDOMLegacy_DEPRECATED","Stratcom","SubscriptionsHandler","TypeaheadCompositeSource","URI","Vector","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=10;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={resultData:[],query:null,waiting:!1},d.$1=null,d.$3=null,d.listen=function(a,c){d.$3=d.$3||new(b("EventEmitter"))();return d.$3.addListener(a,c.bind(babelHelpers.assertThisInitialized(d)))},d.$5=function(a,b){d.$3&&d.$3.emit.apply(d.$3,[a].concat(b))},d.waitForResults=function(){d.setState({waiting:!0})},d.showResults=function(a){d.props.setNullstateData!=null&&b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).value===""&&(a=d.props.setNullstateData),d.props.hideSelected&&(a=d.$6(a)),a.forEach(function(a){a.uri=new(j||(j=b("URI")))(a.uri).addQueryData("refid",b("MSearchConst").refid);return a}),d.setState({resultData:a,waiting:!0},d.$7),d.$5("show",[a])},d.$6=function(a){var b=d.props.excludedEntries;return b?a.filter(function(a){return!b[a.id]}):a},d.$7=function(){d.state.query==null&&d.setState({waiting:!1})},d.complete=function(){d.setState({waiting:!1})},d.reset=function(){b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).value="",d.query("",!0)},d.query=function(a,b){b=b||!1,(b||d.state.query!==a)&&(d.$5("update",[a]),d.$5("change",[a]),d.setState({query:a}))},d.inputChanged=function(){b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).value===""&&d.query("")},d.onSearchFormSubmit=function(a){a.preventDefault();a=b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input);a=a.value;d.$5("query",[d.state.resultData]);a=new(j||(j=b("URI")))("/search/?query").addQueryData("query",a).toString();b("MPageController").load(a)},d.setInputValue=function(a){a&&(b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).value=a)},d.onKeyUp=function(a){var b=d.getInputValue();d.query(b);d.props.onKeyUp&&d.props.onKeyUp(a)},d.onInput=function(a){d.onKeyUp(a)},d.onClearButtonEvent=function(a){a.preventDefault(),d.reset(),d.focusInput()},d.getInputValue=function(){return b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).value},d.getInputNode=function(){return b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input)},d.getValue=function(){return d.getInputValue()},d.focusInput=function(){b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).focus()},d.blurInput=function(){b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).blur()},d.$9=function(a,c,e){d.reset(),d.props.onClickItem&&d.props.onClickItem(a,c,e),d.props.showSelectedInput&&c.name&&d.setInputValue(c.name),d.$5("select",[b("Parent").bySelector(a.target,"._5fna")]),d.$5("result-selected",[c]),d.forceUpdate()},d.getDisplayedHeight=function(){var a=b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.results),c=b("Vector").getPos(a).y;return b("Vector").getDim(a).y+c},d.getDatasource=function(){return d.$1},d.$10=function(a){d.$1&&d.$1.unbindFromTypeahead(babelHelpers.assertThisInitialized(d));d.$2&&(d.$2.release(),delete d.$2);d.$1=a;if(!d.$1)return;d.$2=new(b("SubscriptionsHandler"))();d.$2.addSubscriptions(a.listen("waiting",d.waitForResults),a.listen("resultsready",d.showResults),a.listen("complete",d.complete));a.bindToTypeahead(babelHelpers.assertThisInitialized(d))},d.configureDatasource=function(a){if(d.$1)return;var c=d.props.typeaheadConfig.sources,e=[],f=new(j||(j=b("URI")))(c.bootstrapped.src);if(d.props.includeFamilyTags){var g=f.getQueryData();g.filter.push("family_tags");f.setQueryData(g)}g=d.getTypeaheadTouchSource(f.toString(),c.bootstrapped.source_key,d.props.suggestions);g.setShowSecondaryAction(!0);g.clientRendered=!0;d.touchSource=g;e.push(g);c.nullstate&&(d.nullstateDataSource=d.getTypeaheadNullstateSource(c.nullstate.src),d.nullstateDataSource.setMaximumResultCount(c.nullstate.max_results),d.nullstateDataSource.setShowSecondaryAction(!0),d.nullstateDataSource.clientRendered=!0,e.push(d.nullstateDataSource));g=d.getTypeaheadOnDemandSource(c.online.src);g.setMaximumResultCount(c.online.max_results);g.setEnableImmediateReturnOfCachedResults(c.online.enable_caching);a&&(a.enableQueryThrottle&&g.setThrottleSendRequest(a.queryThrottleTime),g.setMaxResults(a.maxResults),g.setEnableEagerSendRequest(a.enableEagerSendRequest),g.setQueryDelay(a.queryWaitTime));g.setShowSecondaryAction(!0);g.clientRendered=!0;e.push(g);if(d.props.setAllSourceMaxCount)for(f=0;f<e.length;f++){c=e[f];c.setMaximumResultCount(d.props.maxSuggestionCount)}var h=d.getTypeaheadCompositeSource(e);d.props.typeaheadConfig.excludeids&&d.props.typeaheadConfig.excludeids.forEach(function(a){h.addExcludeID(a)});h.clientRendered=!0;h.mergeKey="id";d.$10(h);d.$5("start")},d.configureMSideNavMarauderLogger=function(){if(!d.props.typeaheadConfig.mSideNavMarauderLogger||d.$12)return;d.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(babelHelpers.assertThisInitialized(d));d.$12=!0},d.configureMRecentSearchesUpdater=function(){if(d.props.typeaheadConfig.hasRecentSearches){var a=new(b("MRecentSearchesUpdater"))(babelHelpers.assertThisInitialized(d));d.$11().addSubscriptions({remove:a.destroy})}},d.configureMSearchTypeaheadLogger=function(){if(d.$13)return;d.$11().addSubscriptions(b("Stratcom").listen("m-typeahead-logger:new-session-id",null,d.addSessionIDToSearch));var a="/search/metrics.php",c=new(b("MSearchTypeaheadLogger"))(babelHelpers.assertThisInitialized(d),a);d.$13=!0;d.$11().addSubscriptions(b("Stratcom").listen("log-m-search-session-end",null,function(a){c.blur(a.getData().reason)}))},d.addSessionIDToSearch=function(a){if(!d.refs||!d.refs.searchForm)return;var c=b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.searchForm),e=b("DOM").scry(c,"input","search-typeahead-session-id")[0];e||(e=document.createElement("input"),e.type="hidden",e.name="tsid",c.appendChild(e),b("Stratcom").addSigil(e,"search-typeahead-session-id"));e.value=a.getData().sessionID},d.getTypeaheadCompositeSource=function(a){return d.props.getTypeaheadCompositeSource?d.props.getTypeaheadCompositeSource(a):new(b("TypeaheadCompositeSource"))(a)},d.getTypeaheadOnDemandSource=function(a){return d.props.getTypeaheadOnDemandSource?d.props.getTypeaheadOnDemandSource(a):new(b("MTypeaheadOnDemandSource"))(a)},d.getTypeaheadTouchSource=function(a,c,e){if(d.props.getTypeaheadTouchSource)return d.props.getTypeaheadTouchSource(a,c);if(e){e=new(b("MTypeaheadTouchSourceWithSuggestions"))(a,c,e);d.props.maxSuggestionCount?e.setMaximumResultCount(d.props.maxSuggestionCount):e.setMaximumResultCount(l);return e}return new(b("MTypeaheadTouchSource"))(a,c)},d.getTypeaheadNullstateSource=function(a){return d.props.getTypeaheadNullstateSource?d.props.getTypeaheadNullstateSource(a):new(b("MTypeaheadNullstateSource"))(a)},d.getTypeaheadType=function(){var a="m_side_nav";d.props.simpleSearch?a+="_simple":a+="_gsv2";return a},d.updateSuggestionsIds=function(a){d.touchSource&&d.touchSource.setSuggestionsIds(a),b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.input).value===""&&d.reset()},d.$8=function(){d.props.onFocus&&d.props.onFocus(),d.query(d.getInputValue())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){if(this.state.resultData!==b.resultData||this.state.waiting!==b.waiting)return!0;b=a.excludedEntries;var c=this.props.excludedEntries;for(var d in b)if(b[d]!==c[d])return!0;for(d in c)if(c[d]!==b[d])return!0;return this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==a.maxSuggestionCount?!0:!1};d.componentDidMount=function(){this.refs.input.type="search",this.props.configureDataSourceOnNewProps&&this.configureDatasource(),this.props.focusOnMount&&this.focusInput(),this.props.initialInputValue&&this.setInputValue(this.props.initialInputValue)};d.UNSAFE_componentWillUpdate=function(){this.$5("render_start")};d.componentDidUpdate=function(a,b){this.props.onUpdate&&this.props.onUpdate(),this.props.configureDataSourceOnNewProps&&this.props.maxSuggestionCount!==a.maxSuggestionCount&&(this.setDatasource(null),this.configureDatasource(),this.query(this.state.query,!0)),this.$5("rendered")};d.render=function(){var a=this.props.showClearButton&&this.state.query,c=this.props.typeaheadRootClassName||"_5fn4",d=k.jsx("input",{type:"search",ref:"input",className:"input",autoCorrect:"off",autoComplete:"off",autoCapitalize:"off",name:"query",placeholder:this.props.placeholder,onBlur:this.props.onBlur,onKeyUp:this.onKeyUp,onKeyDown:this.props.onKeyDown,onFocus:this.$8,onChange:this.inputChanged,onInput:this.onInput});this.props.typeaheadConfig.submitOnEnter&&(d=k.jsxs("form",{ref:"searchForm",action:"/search",className:"_4e7a",onSubmit:this.onSearchFormSubmit,children:[d,k.jsx("input",{type:"hidden",name:"source",value:"typeahead"})]}));var e="_5fn6 touchable";this.props.useStandardClearButton&&(e="_5fn6 touchable mClearButton");var f=this.props.hideSelected?this.$6(this.state.resultData):this.state.resultData;return k.jsxs("div",{className:this.props.className,children:[k.jsx("div",{className:c,children:k.jsxs("div",{className:"_5fn5",children:[d,k.jsx("div",{className:e,"data-sigil":"touchable",style:{display:a?"":"none"},onMouseDown:this.onClearButtonEvent,onTouchStart:this.onClearButtonEvent,children:k.jsx("div",{children:"\xd7"})})]})}),k.jsx(b("MReactTypeaheadView"),{ref:"results",Renderer:this.props.presenter.ViewRenderer,data:f,excludedEntries:this.props.excludedEntries,query:this.state.query,waiting:this.state.waiting,loaderMarkup:this.props.typeaheadConfig.loaderMarkup,onTouchStart:this.props.onTouchStart,simpleSearch:this.props.simpleSearch,onClickItem:this.$9,maxSuggestionCount:this.props.maxSuggestionCount,closeOnTag:this.props.closeOnTag})]})};d.$11=function(){this.$4||(this.$4=new(b("SubscriptionsHandler"))());return this.$4};d.cleanup=function(){this.$10(null),this.$4&&this.$4.release()};d.componentWillUnmount=function(){this.cleanup()};return c}(k.Component);a.propTypes={onClickItem:b("prop-types").func,onBlur:b("prop-types").func,onKeyUp:b("prop-types").func,onKeyDown:b("prop-types").func,onTouchStart:b("prop-types").func,placeholder:b("prop-types").string,presenter:b("prop-types").object.isRequired,showClearButton:b("prop-types").bool,typeaheadConfig:b("prop-types").object.isRequired,excludedEntries:b("prop-types").object,getTypeaheadOnDemandSource:b("prop-types").func,getTypeaheadTouchSource:b("prop-types").func,getTypeaheadCompositeSource:b("prop-types").func,getTypeaheadNullstateSource:b("prop-types").func,onFocus:b("prop-types").func,simpleSearch:b("prop-types").bool,suggestions:b("prop-types").array,hideSelected:b("prop-types").bool,maxSuggestionCount:b("prop-types").number,configureDataSourceOnNewProps:b("prop-types").bool,setAllSourceMaxCount:b("prop-types").bool,setNullstateData:b("prop-types").array,focusOnMount:b("prop-types").bool,initialInputValue:b("prop-types").string,showSelectedInput:b("prop-types").bool,closeOnTag:b("prop-types").bool};e.exports=a}),null);
__d("MTaggerResultsRow.react",["cx","MXUIDiv.react","MXUILayout.react","MXUILayoutColumn.react","MXUILayoutFillColumn.react","Stratcom","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={checked:!1},d.$1=function(){return i.jsx("div",{className:"_5rmb",style:{backgroundImage:"url("+d.props.data.photo+")"}})},d.$2=function(){var a=d.props.data;a=a.subtext;return!a?null:i.jsx("span",{className:"_5rmc",children:a})},d.$3=function(a){d.props.closeOnTag?b("Stratcom").invoke("close-on-tag",null,d.props.data.id):(d.setState({checked:!d.state.checked}),d.props.onClickItem&&d.props.onClickItem(a,d.props.data,d.props.checked))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.data,c=this.props.checked?"_5tbv":"";return i.jsx(b("MXUIDiv.react"),{"aria-checked":this.state.checked,className:"_5rmd",onClick:this.$3,role:"checkbox",children:i.jsxs(b("MXUILayout.react"),{children:[i.jsx(b("MXUILayoutColumn.react"),{children:this.$1()},"profile_image"),i.jsx(b("MXUILayoutFillColumn.react"),{alignself:"center",className:"_5rme",children:i.jsxs("div",{children:[i.jsx("div",{className:"_5rmf",children:a.display||a.name}),this.$2()]})},"display_name"),i.jsx(b("MXUILayoutColumn.react"),{children:i.jsx("div",{className:"_5tbx",children:i.jsx("div",{className:c})})},"check_mark")]})})};return c}(i.Component);a.propTypes={data:b("prop-types").object,onClickItem:b("prop-types").func,closeOnTag:b("prop-types").bool};e.exports=a}),null);
__d("MTaggerTypeaheadPresenter.react",["cx","fbt","MTaggerResultsRow.react","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.data.slice(0,k).map(function(a){var c=!1;this.props.excludedEntries&&(c=!!this.props.excludedEntries[a.id]);return j.jsx(b("MTaggerResultsRow.react"),{data:a,onClickItem:this.props.onClickItem,closeOnTag:this.props.closeOnTag,checked:c},a.id)},this);return j.jsxs("div",{className:"_53na",onTouchStart:this.props.onTouchStart,children:[j.jsx("div",{className:"_1zep",children:h._("SUGGESTIONS")}),a]})};return c}(j.Component);a.propTypes={query:b("prop-types").string,data:b("prop-types").array,onClickItem:b("prop-types").func,onTouchStart:b("prop-types").func,closeOnTag:b("prop-types").bool,excludedEntries:b("prop-types").object};c={ViewRenderer:a};e.exports=c}),null);
__d("TokenCollection",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.entries=[]}var b=a.prototype;b.addEntry=function(a){this.hasEntry(a)||this.entries.push(a);return this};b.removeEntry=function(a){if(this.hasEntry(a)){var b=0;while(b<this.entries.length){if(this.entries[b].id===a.id)break;b++}this.entries.splice(b,1)}return this};b.hasEntry=function(a){var b=a.id;return this.entries.some(function(a){return a.id===b})};b.shallowClone=function(){var b=new a();b.entries=this.entries.slice(0);return b};return a}();e.exports=a}),null);
__d("MTokenizer.react",["cx","fbt","Keys","MLegacyDataStore","MReactTypeahead","MTaggerTypeaheadPresenter.react","MTokenCollection.react","MTokenRenderer.react","MViewport","ReactComponentRenderer_DEPRECATED","TokenCollection","Vector","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||b("react"),k=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={focus:!1},d.init=function(){d.initWithoutFocus(),d.refs.typeahead.focusInput()},d.initWithoutFocus=function(){d.refs.typeahead.configureDatasource(),d.forceUpdate(),d.refs.typeahead.reset()},d.cleanup=function(){d.refs.typeahead.cleanup()},d.updateTypeahead=function(){d.forceUpdate()},d.onRemoveFromCollection=function(a){d.$1.removeEntry(a),d.props.onRemove&&d.props.onRemove(a),d.forceUpdate()},d.$3=function(a){d.state.focus||(a.preventDefault(),d.refs.typeahead.focusInput(),d.setState({focus:!0}))},d.$7=function(){d.$2===null&&(d.$2=b("MViewport").getScrollTop())},d.$8=function(){d.$2!==null&&b("MViewport").scrollTo(0,d.$2),d.$2=null},d.$5=function(a){if(d.props.scrollToTypeahead){d.$7();var c=d.refs.typeahead.getInputNode();c=b("Vector").getPos(c).y;b("MViewport").scrollTo(0,c)}a.nativeEvent.keyCode===b("Keys").BACKSPACE&&d.$9()},d.$4=function(){d.props.scrollToTypeahead&&d.$8(),d.props.onInputBlur&&d.props.onInputBlur(),d.state.focus&&d.setState({focus:!1})},d.$6=function(a,b,c){c?d.onRemoveFromCollection(b):(d.$1.addEntry(b),d.props.onAdd&&d.props.onAdd(b)),d.props.hideSelected&&setTimeout(function(){d.refs.typeahead.focusInput()},0),a.stopPropagation(),d.forceUpdate()},d.getEntries=function(){return d.$1.entries},d.setEntries=function(a){d.$1.entries=a},d.$9=function(){var a=d.getEntries();a&&a.length&&!d.refs.typeahead.getInputValue()&&d.$1.removeEntry(a[a.length-1]);d.forceUpdate()},d.updateSuggestionsIds=function(a){d.init(),d.updateTypeaheadWithSuggestions(a)},d.updateTypeaheadWithSuggestions=function(a){d.refs.typeahead.updateSuggestionsIds(a)},d.focusAndUpdateSuggestionsIDs=function(a){d.refs.typeahead.updateSuggestionsIds(a),d.refs.typeahead.focusInput()},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.UNSAFE_componentWillMount=function(){this.$1=new(b("TokenCollection"))(),this.$2=null};d.componentWillUnmount=function(){this.cleanup()};d.render=function(){var a=this.$1.entries||[],c={},d=a&&a.length>0;if(d)for(var e=0;e<a.length;++e)c[a[e].id]=!0;if(this.props.excludedEntries)for(a in this.props.excludedEntries)c[a]=this.props.excludedEntries[a];e=!d||this.props.showPlaceholderWithEntries?this.props.placeholder:null;return j.jsxs("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5snt"),onClick:this.$3,role:"presentation",children:[j.jsx(b("MTokenCollection.react"),{ref:"collection",collection:this.$1,collectionKey:this.props.collectionKey,renderer:b("MTokenRenderer.react"),onRemove:this.onRemoveFromCollection}),j.jsx(b("MReactTypeahead"),{ref:"typeahead",className:"_5snu",typeaheadRootClassName:"_5snv",excludedEntries:c,placeholder:e,presenter:this.props.presenter,typeaheadConfig:this.props.typeaheadConfig,includeFamilyTags:this.props.includeFamilyTags,onBlur:this.$4,onKeyDown:this.$5,onClickItem:this.$6,suggestions:this.props.suggestions,hideSelected:this.props.hideSelected,maxSuggestionCount:this.props.maxSuggestionCount,closeOnTag:this.props.closeOnTag})]}))};return a}(j.Component);k.propTypes={placeholder:b("prop-types").string,placeholderWithEntries:b("prop-types").bool,typeaheadConfig:b("prop-types").object.isRequired,presenter:b("prop-types").object.isRequired,excludedEntries:b("prop-types").object,collectionKey:b("prop-types").string,onInputBlur:b("prop-types").func,includeFamilyTags:b("prop-types").bool,hideSelected:b("prop-types").bool,onAdd:b("prop-types").func,onRemove:b("prop-types").func,maxSuggestionCount:b("prop-types").number,scrollToTypeahead:b("prop-types").bool};k.init=function(a){var c=h._("Start typing a name..."),d=b("MLegacyDataStore").get(a.container);d.tokenizer=new(b("ReactComponentRenderer_DEPRECATED"))(k,a.container);d.tokenizer.setProps({placeholder:c,showPlaceholderWithEntries:!!a.showPlaceholderWithEntries,presenter:b("MTaggerTypeaheadPresenter.react"),typeaheadConfig:a.typeaheadConfig,suggestions:a.suggestions,hideSelected:a.hideselected,collectionKey:a.collectionKey,closeOnTag:a.closeOnTag});d.tokenizer.getComponent_DEPRECATED().init()};e.exports=k}),null);
__d("MPlacesCategorySelector",["DOM","MLegacyDataStore","MRequest","Stratcom","createDeprecatedProperties","eventsMixinDeprecated"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._root=a,this._listeners=[b("Stratcom").listen("click",[a.getAttribute("data-sigil"),"cancel_places_category_selector"],this._cancel.bind(this)),b("Stratcom").listen("click",[a.getAttribute("data-sigil"),"category_option"],this._submit.bind(this))],this._currentlyMakingServerRequest=!1,this._viewcount=1}var c=a.prototype;c.hide=function(){b("DOM").hide(this._root)};c.show=function(){b("DOM").show(this._root)};c.cleanup=function(){while(this._listeners.length)this._listeners.pop().remove()};c._hideCurrentChild=function(){for(var a=0;a<this._viewcount-1;a++){if(!this._root.childNodes[a])return;b("DOM").hide(this._root.childNodes[a])}};c._showCurrentChild=function(){if(this._viewcount>=1){var a=this._getCurrentVisibleView();b("DOM").show(a)}};c._deleteLastChild=function(){var a=this._root.childElementCount;a>=1&&b("DOM").remove(this._root.childNodes[a-1])};c._deleteAllChildren=function(){var a=this._root.childElementCount;for(var c=a-1;c>=1;c--)b("DOM").remove(this._root.childNodes[c]);a>=1&&b("DOM").show(this._root.childNodes[0]);this._viewcount=1};c._getCurrentVisibleView=function(){return this._root.childNodes[this._viewcount-1]};c._submit=function(a){var c=this;if(this._currentlyMakingServerRequest)return;var d=this._getCurrentVisibleView(),e=b("DOM").find(d,"*","loading"),f=b("DOM").find(d,"div","category-list-view");d=b("MLegacyDataStore").get(a.getNode("category_option"));if(d.haschildren){this._currentlyMakingServerRequest=!0;this._hideCurrentChild();b("DOM").show(e);b("DOM").hide(f);var g=new(b("MRequest"))("/places/addform/category.php");g.listen("done",function(){c._viewcount+=1,c._hideCurrentChild(),c._currentlyMakingServerRequest=!1,b("DOM").hide(e),b("DOM").show(f)});g.addData({parent_category_id:d.id,target_id:this._root.id});g.setMethod("GET");g.send()}else{this._deleteAllChildren();this._currentid=null;g={category_name:d.name,category_value:d.id};this.hide();this.invoke("submit",g)}a.kill()};c._cancel=function(a){if(this._currentlyMakingServerRequest)return;this._viewcount>1?(this._deleteLastChild(),this._viewcount--,this._showCurrentChild()):(this.hide(),this.invoke("cancel"))};return a}();b("eventsMixinDeprecated")(a,["submit","cancel"]);b("createDeprecatedProperties")(a,{disableFacewebHooks:!1});Object.assign(a.prototype,{_root:null,_currentlyMakingServerRequest:null,_viewcount:null});e.exports=a}),null);
__d("MPlacesAddView",["DOM","FBJSON","MPlacesCategorySelector","MRequest","Stratcom","ge"],(function(a,b,c,d,e,f){var g=null,h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r,s=null,t=null,u=null,v=null,w=null,x=null,y=!0,z={init:function(A){g=b("ge")(A);if(!g)return;m=b("DOM").scry(g,"div","places-category-selector-container")[0];if(m){j=new(b("MPlacesCategorySelector"))(m);i=(A=b("DOM")).find(g,"div","add-place-form");a=A.find(g,"div","new-place-name");n=A.find(a,"input","");c=A.find(g,"div","new-place-address");o=A.find(c,"input","");d=A.find(g,"div","new-place-phone");p=A.find(d,"input","");f=A.find(g,"div","new-place-website");q=A.find(f,"input","");r=A.find(g,"div","new-place-zip");s=A.find(r,"input","");v=A.scry(g,"input","is_current")[0];k=A.find(g,"span","category_input_display_text");l=A.scry(g,"input","category_input_value")[0];t=A.scry(g.parentNode.parentNode,"div","place-header")[0];u=A.find(g,"div","address-error-box")}else n=b("DOM").find(g,"input","new-place-name");h=b("DOM").find(g,"button","add_place_submit");this._listeners=[b("Stratcom").listen("click","add_place_submit",z._verifyAndSubmitAddPlace.bind(this)),b("Stratcom").listen("MStructuredComposer:cleanup",null,z._cleanup.bind(this)),b("Stratcom").listen("m:places:map:move",null,function(a){w=a.getData().lat,x=a.getData().lng}),b("Stratcom").listen("m:places:map:render",null,function(a){a=b("FBJSON").parse(a.getData(),e.id);w=a.latitude;x=a.longitude})];n.addEventListener("focus",function(){y&&(n.blur(),y=!1)});n.addEventListener("input",function(){z._toggleAddButton()});m&&(this._listeners.push(b("Stratcom").listen("click","category-selector",z._showCategorySelector.bind(this))),this._listeners.push(j.listen("cancel",z._cancelCategorySelector.bind(this))),this._listeners.push(j.listen("submit",z._submitCategorySelector.bind(this))))},_cleanup:function(){while(this._listeners.length)this._listeners.pop().remove();j&&j.cleanup()},_showCategorySelector:function(a){t&&b("DOM").hide(t),b("DOM").hide(i),b("DOM").show(m),a.kill()},_showAddButton:function(){return!l.value||!n.value?!1:!0},_toggleAddButton:function(){h.disabled&&z._showAddButton()?h.disabled=!1:!h.disabled&&!z._showAddButton()&&(h.disabled=!0)},_updateCategorySelector:function(a){if(k&&a){var c=a.category_name;a=a.category_value;b("DOM").setContent(k,c);a.length!==0&&(l.value=a,z._toggleAddButton())}},_submitCategorySelector:function(a){z._updateCategorySelector(a),b("DOM").hide(m),b("DOM").show(i),b("Stratcom").invoke("m:places:addplace:show"),y=!0,t&&b("DOM").show(t)},_cancelCategorySelector:function(){b("DOM").hide(m),b("DOM").show(i),b("Stratcom").invoke("m:places:addplace:show"),y=!0,t&&b("DOM").show(t)},_verifyAndSubmitAddPlace:function(a){var c=this,d={new_place:!0,name:n.value};m&&(d.phone=p.value,d.address=o.value,d.website=q.value,d.zip=s.value);d.is_current=!0;v&&(d.is_current=v.checked);w&&(d.latitude=w,d.longitude=x);if(l)d.topic_tokens=l;else{var e=b("DOM").scry(g,"span","token");d.topic_tokens=e}if(d.address){e=new(b("MRequest"))("/places/addform/verifyaddress.php");e.listen("done",function(b){b.actions.length===1?c._submitData(d,a):a.kill()});e.setData({address:d.address,latitude:d.latitude,longitude:d.longitude,target_id:u.id}).setMethod("GET").send()}else this._submitData(d,a)},_submitData:function(a,c){a.name.length!==0?(b("DOM").hide(g),b("Stratcom").invoke("m:places:addform:submit",null,a)):c.kill()}};e.exports=z}),null);
__d("PerfHelperUtils",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.children};return b}(a.PureComponent);g.SlowBootloadBorder=b}),98);
__d("MPlacesCurrentLocation",["MPlaces"],(function(a,b,c,d,e,f){a=function(a){b("MPlaces").setCurrentJSONLocation(a.location),b("MPlaces").setLocationSearchMode(a.mode),a.mode==b("MPlaces").locationSearchModes.MODE_CHECKIN&&b("MPlaces").monitorLocation()};f.main=a}),null);
__d("MPlacesInit",["MPlaces","Stratcom"],(function(a,b,c,d,e,f){typeof window.usingGears!=="undefined"&&(b("MPlaces").locationOptions.enableHighAccuracy=!1),b("Stratcom").listen("click",b("MPlaces").LINK_SIGIL,b("MPlaces").onClick),b("Stratcom").listen("submit",b("MPlaces").FORM_SIGIL,b("MPlaces").onSubmit)}),null);
__d("MQuickSearchLogger",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$1=!1,this.$2=!1,this.$3=null}var b=a.prototype;b.$4=function(){this.$1=!0,this.$2=!1,this.$5=Math.random()};b.$6=function(){this.$1=!1};b.logSessionStart=function(a){};b.logResults=function(a,b){};b.logClick=function(a){};b.onSearch=function(a){this.$1||(this.$4(),this.logSessionStart(a)),this.$3=a};b.onResults=function(a,b){this.logResults(a,b)};b.onCleanup=function(){this.$6()};b.onClick=function(a){this.$2||(this.logClick(a),this.$2=!0,this.$6())};b.getSID=function(){return this.$5};b.getLastRequest=function(){return this.$3};return a}();e.exports=a}),null);
__d("MQuickSearchLoggerPlaces",["MLegacyDataStore","MQuickSearchLogger","MarauderLogger"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.logSessionStart=function(a){b("MarauderLogger").log("m_checkin_search_session_start",void 0,{sid:this.getSID()})};d.logResults=function(a,c){b("MarauderLogger").log("m_checkin_search_results",void 0,{sid:this.getSID(),search_experiment:b("MLegacyDataStore").get(c).searchExperiment})};d.logClick=function(a){var c=!1,d=-1;if(a){var e=b("MLegacyDataStore").get(a.selected_result);e!==null&&(c=e.isEventResult);var f=[];a.results!==null&&a.results.children!==null&&(f=a.results.children);for(a=0;a<f.length;a++){var g=b("MLegacyDataStore").get(f[a]);if(e.id===g.id){d=a;break}}}g=-1;if(this.getLastRequest()!==null){a=this.getLastRequest();Object.prototype.hasOwnProperty.call(a,"q")&&Object.prototype.hasOwnProperty.call(a.q,"length")&&(g=this.getLastRequest().q.length)}b("MarauderLogger").log("m_checkin_search_click",void 0,{sid:this.getSID(),query_length:g,position:d,is_event:c})};return c}(b("MQuickSearchLogger"));e.exports=a}),null);
__d("MQuickSearchPlaces",["MPlaces","MQuickSearch","MQuickSearchLoggerPlaces","Stratcom"],(function(a,b,c,d,e,f){a=function(a){"use strict";var c,d,e=new(b("MQuickSearchLoggerPlaces"))(),f=new(b("MQuickSearch"))(a,e),g=null,h=f.listen("search",function(a){var e=g||b("MPlaces").getCurrentJSONLocation();if(e==c&&a==d){b("Stratcom").context().prevent();return}c=b("MPlaces").getCurrentJSONLocation();d=a;a={json_location:c};a[b("MPlaces").locationSearchModes.SEARCH_MODE]=b("MPlaces").getLocationSearchMode();f.maybeAddQueryParameters(a);b("Stratcom").invoke("m:quicksearch:location:change",null,e)}),i=(a=b("Stratcom")).listen("m:quicksearch:places:search-with-location",null,function(a){g=a,f.search()}),j=a.listen("m:quicksearch:places:search",null,function(){f.search()}),k=a.listen("m:quicksearch:places:cancel",null,function(){return f.reset()}),l=a.listen("m:quicksearch:places:click",null,function(a){e.onClick(a.getData())});a.listen("m:page:loading",null,function(){b("Stratcom").removeCurrentListener(),h.remove(),j.remove(),i.remove(),k.remove(),l.remove(),h=j=c=d=f=null})};e.exports=a}),null);
__d("MTouchTransferFocus",["CSS","DOM","MLegacyDataStore","MViewport","Stratcom"],(function(a,b,c,d,e,f){var g="transfer-focus-container",h="focus-provider",i="focus-receiver",j="focused";b("Stratcom").listen(["click","touchend"],[g,h],function(a){var c=a.getNode(h),d=b("MLegacyDataStore").get(c);if(d.onclickIsSet)return;var e=a.getNode(g);c.onclick=function(){b("CSS").conditionClass(e,j,!0);var a=b("DOM").scry(e,"input",i)[0];if(a){a.focus();a=b("MLegacyDataStore").get(e);a.hideaddressbar&&setTimeout(function(){b("MViewport").getScrollTop()<1&&b("MViewport").scrollTo(0,1)},0)}};d.onclickIsSet=!0});b("Stratcom").listen("blur",[g,i],function(a){b("CSS").conditionClass(a.getNode(g),j,!1)})}),null);
__d("DeferredComponent.react",["createCancelableFunction","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this,b,c)||this;d.cancelableModulesLoaded=function(){};d.$1=function(a){d.setState({ComponentClass:a},function(){d.props.onComponentLoad&&d.props.onComponentLoad(a)})};var e=null;function f(a){e=a}d.props.deferredComponent(f);d.state={ComponentClass:e};return d}var d=c.prototype;d.componentDidMount=function(){this.cancelableModulesLoaded=b("createCancelableFunction")(this.$1),this.props.deferredComponent(this.cancelableModulesLoaded)};d.componentWillUnmount=function(){this.cancelableModulesLoaded.cancel()};d.render=function(){var a=this.state.ComponentClass;if(!a||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var b=this.props;b.deferredPlaceholder;b.deferredComponent;b.onComponentLoad;b.deferredForcePlaceholder;b=babelHelpers.objectWithoutPropertiesLoose(b,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return h.jsx(a,babelHelpers["extends"]({},b))};return c}(h.Component);e.exports=a}),null);
__d("PerfUtils",["PerfHelperUtils","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.Component;function a(a,b,c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.componentDidMount=function(){b()};f.render=function(){if(c)return h.jsx(a,babelHelpers["extends"]({},this.props,{ref:c}));else return h.jsx(a,babelHelpers["extends"]({},this.props))};return d}(i);return d}function b(a,b,e){var f=1e4;e=c("performanceNow")()-e;if(e<f)return a;var g=f/1e3,j=Math.round(e)/1e3;f=function(c){babelHelpers.inheritsLoose(e,c);function e(){return c.apply(this,arguments)||this}var f=e.prototype;f.componentDidMount=function(){};f.render=function(){return h.jsx(d("PerfHelperUtils").SlowBootloadBorder,{moduleId:b,timeLimitSecs:g,timeSpentSecs:j,children:h.jsx(a,babelHelpers["extends"]({},this.props))})};return e}(i);return f}g.appendListener=a;g.markRedInDev=b}),98);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","TimeSlice","performanceNow","react","useHeroBootloadedComponent"],(function(a,b,c,d,e,f,g){var h=d("react");a=h.Component;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.create=function(a){var b=function(c){babelHelpers.inheritsLoose(b,c);function b(){return c.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var b=this.props;b.bootloadLoader;b=babelHelpers.objectWithoutPropertiesLoose(b,["bootloadLoader"]);return h.jsx(j,babelHelpers["extends"]({bootloadLoader:a,bootloadPlaceholder:h.jsx("div",{})},b))};return b}(h.Component);b.displayName="BootloadedComponent("+a.getModuleId()+")";return b};return b}(a);function i(a){var b=a.resource;a=a.children;c("useHeroBootloadedComponent")(b);return a}i.displayName=i.name+" [from "+f.id+"]";e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$BootloadedComponent1=function(a){var b=e.props.isContinuation,f;b=b?c("TimeSlice").PropagationType.CONTINUATION:c("TimeSlice").PropagationType.EXECUTION;c("TimeSlice").guard(c("JSResource").loadAll,"BootloadedComponent load all JSResource",{propagationType:b})([e.props.bootloadLoader],function(b){b=e.props.onComponentDidMount?d("PerfUtils").appendListener(b,e.props.onComponentDidMount):b,a(b)})};b.onBootloaderWillMount&&b.onBootloaderWillMount();return e}var e=b.prototype;e.render=function(){var a=this.props,b=a.bootloadLoader;a.isContinuation;var d=a.bootloadPlaceholder,e=a.bootloadForcePlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);d=h.jsx(c("DeferredComponent.react"),babelHelpers["extends"]({deferredPlaceholder:d,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:e},a));return h.jsx(i,{resource:b,children:d})};return b}(b);e.defaultProps={isContinuation:!0};var j=e;a=j;g["default"]=a}),98);