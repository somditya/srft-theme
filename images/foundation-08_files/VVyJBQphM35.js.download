;/*FB_PKG_DELIM*/

__d("FRXStrings",["fbt"],(function(a,b,c,d,e,f,g){e.exports={error_dialog_title:g._("Sorry, something went wrong"),error_dialog_text:g._("We're sorry, there's a technical problem with this feature. We're working on getting it fixed."),report_photo_title:g._("Find support or report photo"),report_video_title:g._("Find support or report video"),report_story_title:g._("Find support or report story"),report_comment_title:g._("Find support or report comment"),report_badge_title:g._("Find support or report badge"),report_title:g._("Find support or report")}}),null);
__d("MGITCardLayout_layout.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MGITCardLayout_layout",selections:[{alias:null,args:null,concreteType:"InformTreatmentLayoutData",kind:"LinkedField",name:"inform_treatment_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null},{alias:null,args:null,concreteType:"IXGITLinkData",kind:"LinkedField",name:"redirect_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IXGITNewsworthyDialogData",kind:"LinkedField",name:"newsworthy_dialog_data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MGITNewsworthyScreenModal_layout"}],storageKey:null}],type:"InformTreatmentLayout",abstractKey:null};e.exports=a}),null);
__d("MGITNewsworthyScreenModal_layout.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MGITNewsworthyScreenModal_layout",selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_body_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_body_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_list_item_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_list_item_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_list_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null}],type:"IXGITNewsworthyDialogData",abstractKey:null};e.exports=a}),null);
__d("MSnowflakePhotoCardWithGITQuery_mobileRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6268713856560931"}),null);
__d("MSnowflakePhotoCardWithGITQuery.graphql",["MSnowflakePhotoCardWithGITQuery_mobileRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Variable",name:"input",variableName:"input"}],d=[{kind:"Variable",name:"id",variableName:"id"}],e=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"inform_treatment_layout",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MGITCardLayout_layout"}],storageKey:null}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"},j=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i],storageKey:null}],storageKey:null}],k={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:j,storageKey:null};h=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"inform_treatment_layout",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InformTreatmentLayoutData",kind:"LinkedField",name:"inform_treatment_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null},{alias:null,args:null,concreteType:"IXGITLinkData",kind:"LinkedField",name:"redirect_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"IXGITNewsworthyDialogData",kind:"LinkedField",name:"newsworthy_dialog_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_body_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_body_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_list_item_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_list_item_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_list_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null}],storageKey:null}],type:"InformTreatmentLayout",abstractKey:null}],storageKey:null},h];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MSnowflakePhotoCardWithGITQuery",selections:[{alias:null,args:c,concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWarningScreen_data"}],storageKey:null},{alias:null,args:d,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:e,storageKey:null},{alias:null,args:d,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:e,storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MSnowflakePhotoCardWithGITQuery",selections:[{alias:null,args:c,concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"bottom_actions",plural:!0,selections:[g,k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_objectionable_category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inform_session_id",storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"center_actions",plural:!0,selections:[g,k,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:j,storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:d,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:h,storageKey:null},{alias:null,args:d,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:h,storageKey:null}]},params:{id:b("MSnowflakePhotoCardWithGITQuery_mobileRelayOperation"),metadata:{},name:"MSnowflakePhotoCardWithGITQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWarningScreenBottomAction_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWarningScreenBottomAction_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"WarningScreenAction",abstractKey:null};e.exports=a}),null);
__d("MWarningScreenCenterAction_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWarningScreenCenterAction_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"WarningScreenAction",abstractKey:null};e.exports=a}),null);
__d("MWarningScreenCover_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"MTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWarningScreenCover_data",selections:[{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"center_actions",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"MWarningScreenCenterAction_data"}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("MWarningScreenMisinformationDialogQuery_mobileRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5698557200237900"}),null);
__d("MWarningScreenMisinformationDialogQuery.graphql",["MWarningScreenMisinformationDialogQuery_mobileRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fact_check_ids"},c={defaultValue:null,kind:"LocalArgument",name:"id"},d={defaultValue:null,kind:"LocalArgument",name:"location"},e={defaultValue:null,kind:"LocalArgument",name:"render_style"},f=[{kind:"Variable",name:"content_id",variableName:"id"},{kind:"Variable",name:"fact_check_ids",variableName:"fact_check_ids"},{kind:"Literal",name:"is_matched_content",value:!1},{kind:"Variable",name:"location",variableName:"location"},{kind:"Variable",name:"render_style",variableName:"render_style"}],g=[{args:null,kind:"FragmentSpread",name:"MTextWithEntitiesRelay_textWithEntities"}],h={alias:null,args:null,kind:"ScalarField",name:"fact_check_articles_title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"fact_checker",storageKey:null},j={alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"image(height:60,width:60)"},k={alias:null,args:null,kind:"ScalarField",name:"external_uri",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p=[o],q={kind:"InlineFragment",selections:p,type:"Node",abstractKey:"__isNode"},r=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},q],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"MWarningScreenMisinformationDialogQuery",selections:[{alias:null,args:f,concreteType:"FactCheckDetailsContent",kind:"LinkedField",name:"fact_check_details_content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"explanation_attribution",plural:!1,selections:g,storageKey:null},h,i,{alias:null,args:null,concreteType:"ManualFactCheck",kind:"LinkedField",name:"fact_checks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachment_thumbnail",plural:!1,selections:[j],storageKey:null},k,{alias:null,args:null,concreteType:"FactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[l],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"learn_more",plural:!1,selections:g,storageKey:null},m],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d,e],kind:"Operation",name:"MWarningScreenMisinformationDialogQuery",selections:[{alias:null,args:f,concreteType:"FactCheckDetailsContent",kind:"LinkedField",name:"fact_check_details_content",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"explanation_attribution",plural:!1,selections:r,storageKey:null},h,i,{alias:null,args:null,concreteType:"ManualFactCheck",kind:"LinkedField",name:"fact_checks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachment_thumbnail",plural:!1,selections:[n,j,q,{kind:"InlineFragment",selections:p,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:p,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:p,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:p,type:"MontageVideo",abstractKey:null}],storageKey:null},k,{alias:null,args:null,concreteType:"FactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[l,o],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"learn_more",plural:!1,selections:r,storageKey:null},m],storageKey:null}]},params:{id:b("MWarningScreenMisinformationDialogQuery_mobileRelayOperation"),metadata:{},name:"MWarningScreenMisinformationDialogQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWarningScreen_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWarningScreen_data",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"bottom_actions",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"MWarningScreenBottomAction_data"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_objectionable_category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inform_session_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MWarningScreenCover_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],type:"CIXScreen",abstractKey:null};e.exports=a}),null);
__d("ClientTrackingMessage",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.message={}}var b=a.prototype;b.addTrackingMessage=function(a){Object.assign(this.message,a)};b.getAppendedTrackingData=function(){var a=this;return Object.keys(this.message).map(function(b){var c=a.message[b];Array.isArray(c)&&(c=JSON.stringify(c));return b+"."+c}).join(":")};b.appendToURI=function(b){b.addQueryData(a.URI_KEY,this.getAppendedTrackingData())};return a}();a.URI_KEY="_ft_";e.exports=a}),null);
__d("MDateString",["fbt"],(function(a,b,c,d,e,f,g){var h=86400;function i(a){return a instanceof Date?a:new Date(a*1e3)}function j(a,b,c){a=a.toString();c=c||"0";while(a.length<b)a=c+a;return a}function k(a,b){a=i(a);b=i(b);return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function l(a){return a.getFullYear()===new Date().getFullYear()}function m(a){a=i(a);var b=a.getHours(),c=b>=12;b=b;b===0?b=12:b>12&&(b-=12);a=j(a.getMinutes(),2);return g._("{hours}:{minutes} {ampm}",[g._param("hours",b),g._param("minutes",a),g._param("ampm",c?"PM":"AM")])}function n(a,b){a=a||new Date();b=b||{};b=b.zero_padding?2:1;return g._("{month}\/{date}\/{year}",[g._param("month",j(a.getMonth()+1,b)),g._param("date",j(a.getDate(),b)),g._param("year",(a.getFullYear()+"").substr(-2))])}var o=[g._("Sun"),g._("Mon"),g._("Tue"),g._("Wed"),g._("Thu"),g._("Fri"),g._("Sat")],p=[g._("Sunday"),g._("Monday"),g._("Tuesday"),g._("Wednesday"),g._("Thursday"),g._("Friday"),g._("Saturday")],q=[g._("Jan"),g._("Feb"),g._("Mar"),g._("Apr"),g._("May"),g._("Jun"),g._("Jul"),g._("Aug"),g._("Sep"),g._("Oct"),g._("Nov"),g._("Dec")],r=[g._("January"),g._("February"),g._("March"),g._("April"),g._("May"),g._("June"),g._("July"),g._("August"),g._("September"),g._("October"),g._("November"),g._("December")];function s(a,b){a=i(a).getDay();return b?o[a]:p[a]}function t(a,b){a=i(a).getMonth();return b?q[a]:r[a]}function u(){return Date.now()/1e3|0}function a(c,d){if(c==-1)return g._("Just now");else if(c===0)return"";var e=u(),f=new Date(c*1e3),i=e-c|0,j=i/60|0,o=j/60|0,a=o/24|0,b=a/30.4|0,q=a/365|0;d=d||{};var v=d.compact||!1,w=d.relative!==void 0?d.relative:i<=h;d=d.show_cur_year!==void 0?d.show_cur_year:!0;if(w){w={year:q,month:b,day:a,hr:o,min:j,sec:i};for(q in w){b=w[q];if(b!==0){a=Math.abs(b);if(a==1&&!v)switch(q){case"year":return g._("over a year ago");case"month":return g._("about a month ago");case"day":return g._("about a day ago");case"hr":return g._("about an hour ago");case"min":return g._("about a minute ago");case"sec":return g._("a few seconds ago")}if(v)switch(q){case"year":return g._({"*":"{number} yr"},[g._param("number",a,[0])]);case"month":return g._({"*":"{number} mo"},[g._param("number",a,[0])]);case"day":return g._({"*":"{number} d"},[g._param("number",a,[0])]);case"hr":return g._({"*":"{number} hr"},[g._param("number",a,[0])]);case"min":return g._({"*":"{number} min"},[g._param("number",a,[0])]);case"sec":return g._({"*":"{number} sec"},[g._param("number",a,[0])])}else switch(q){case"year":return g._({"*":"{number} years ago"},[g._param("number",a,[0])]);case"month":return g._({"*":"{number} months ago"},[g._param("number",a,[0])]);case"day":return g._({"*":"{number} days ago"},[g._param("number",a,[0])]);case"hr":return g._({"*":"{number} hours ago"},[g._param("number",a,[0])]);case"min":return g._({"*":"{number} minutes ago"},[g._param("number",a,[0])]);case"sec":return g._({"*":"{number} seconds ago"},[g._param("number",a,[0])])}}}return g._("Just now")}else{if(v)if(k(e,f))return m(f);else if(e-h*7<c)return s(f,!0);else return n(f);if(k(e,f))return g._("Today at {time}",[g._param("time",m(f))]);else if(k(e-h,f))return g._("Yesterday at {time}",[g._param("time",m(f))]);else if(k(e-h*2,f)||k(e-h*3,f))return g._("{weekday} at {time}",[g._param("weekday",s(f)),g._param("time",m(f))]);else if(e-h*7<c)return g._("{month} {date}",[g._param("month",t(f,!0)),g._param("date",f.getDate())]);else if(!d&&l(f))return g._("{month} {date}",[g._param("month",t(f,!0)),g._param("date",f.getDate())]);else return g._("{month} {date}, {year}",[g._param("month",t(f,!0)),g._param("date",f.getDate()),g._param("year",f.getFullYear())])}}function b(a){return g._("{month} {date}, {year}",[g._param("month",t(a,!0)),g._param("date",a.getDate()),g._param("year",a.getFullYear())])}function c(a){a=a||new Date();return n(a,{zero_padding:!0})+" "+m(a)}function d(a){var b=3600;return Math.floor(a/b/1e3)*b}e.exports={dateIsSameDay:k,displayTime:a,displayDate:b,displayExactTime:c,getMonth:t,getWeekday:s,roundTimestampToHour:d}}),null);
__d("MTimestamp.react",["MDateString","MTimestamp","ReactDOMLegacy_DEPRECATED","Stratcom","SubscriptionsHandler","forEachObject","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=2e4,j,k={},l=0,m;function n(a){var b="ts_"+l++;k[b]=a;Object.keys(k).length===1&&(m=new(c("SubscriptionsHandler"))(),m.addSubscriptions(c("Stratcom").listen("m:page:unload",null,function(){return Object.keys(k).forEach(s)}),c("Stratcom").listen("m:update-timestamps",null,function(){q(),r(),p()})),p());return b}function o(a){var b=d("MTimestamp").renderTimestamp(Math.floor((Date.now()-a)/1e3),!1);return!b?d("MDateString").displayTime(a/1e3,{compact:!1,show_cur_year:!1}):b}function p(){j=setInterval(r,i)}function q(){j!=null&&clearInterval(j)}function r(){d("ReactDOMLegacy_DEPRECATED").unstable_batchedUpdates(function(){return c("forEachObject")(k,function(a){return a.setState({displayTime:o(a.props.timestamp)})})})}function s(a){delete k[a],Object.keys(k).length===0&&(q(),m&&m.release(),m=null)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.state={displayTime:o(b.timestamp)};return c}var c=b.prototype;c.componentDidMount=function(){this.$1=n(this)};c.UNSAFE_componentWillReceiveProps=function(a){this.props.timestamp!==a.timestamp&&this.setState({displayTime:o(a.timestamp)})};c.componentWillUnmount=function(){s(this.$1)};c.render=function(){return h.jsx("abbr",babelHelpers["extends"]({},this.props,{children:this.state.displayTime}))};return b}(h.Component);g["default"]=a}),98);
__d("MGITNewsworthyScreenModal.react",["List.react","MDialog.react","MGITNewsworthyScreenModal_layout.graphql","MLayerHideOnBlur","MXUIButton.react","MXUIDiv.react","RelayHooks","ge","goURI","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e,f=d("RelayHooks").useFragment(h!==void 0?h:h=b("MGITNewsworthyScreenModal_layout.graphql"),a.layout),g=f.screen_body_subtitle,j=f.screen_body_title,k=f.screen_list_item_1,l=f.screen_list_item_2,m=f.screen_list_title,n=f.screen_subtitle,o=f.screen_title;f=function(){return g==null?null:i.jsx(c("MXUIDiv.react"),{className:"xi81zsa x6prxxf xo1l8bm xvq8zen x1k70j0n",children:g})};var p=function(){return j==null?null:i.jsx(c("MXUIDiv.react"),{className:"xzsf02u x1lkfr7t xk50ysn x1lbecb7",children:j})},q=function(){return i.jsx(c("MXUIButton.react"),{className:"x6s0dn4 x78zum5 x6prxxf xk50ysn xl56j7k x1tht7el x1ye3gou xn6708d xh8yej3",onClick:function(){return c("goURI")("https://www.facebook.com/communitystandards/introduction")},size:"medium",style:{backgroundColor:"var(--fds-gray-10)",border:"none",borderRadius:6,color:"var(--fds-gray-100)"},use:"normal",children:"View Community Standards"})},r=function(){return i.jsx(c("MXUIDiv.react"),{className:"x3a57xx x8o6i96 x1sy10c2 xieb3on"})},s=function(){var a=[k,l].filter(function(a){return a!=null}).map(function(a,b){return i.jsx("li",{className:"xzsf02u x6prxxf xo1l8bm xvq8zen x14vqqas",children:a},b)});return a.length===0?null:i.jsxs(i.Fragment,{children:[t(),i.jsx(c("List.react"),{border:"none",spacing:"none",className:"x43c9pm xtaz4m5 xnm25rq",children:a})]})},t=function(){return m==null?null:i.jsx(c("MXUIDiv.react"),{className:"xzsf02u x6prxxf xo1l8bm xvq8zen x1sy10c2",children:"We consider things like:"})},u=function(){return n==null?null:i.jsx(c("MXUIDiv.react"),{className:"xi81zsa x1lkfr7t xo1l8bm x1lbecb7 xs0t0u8",children:n})},v=function(){return o==null?null:i.jsx(c("MXUIDiv.react"),{className:"xzsf02u x1603h9y x1xlr1w8 x1u7k74 xqui205",children:o})};return i.jsx(c("MDialog.react"),{addedBehaviors:[c("MLayerHideOnBlur")],bottomAlign:!0,isModal:((e=c("ge")("viewport"))==null?void 0:e.style.display)==="none",onToggle:a.onToggle,shown:a.shown,children:i.jsxs(c("MXUIDiv.react"),{className:"xx6bls6 x1swvt13 x1pi30zi x1p5oq8j",children:[v(),u(),r(),p(),f(),s(),q()]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MGITCardLayout.react",["ix","MGITCardLayout_layout.graphql","MGITNewsworthyScreenModal.react","MImage.react","MXUIButton.react","MXUIDiv.react","RelayHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useState;function a(a){var e=k(!1),f=e[0],g=e[1];e=d("RelayHooks").useFragment(i!==void 0?i:i=b("MGITCardLayout_layout.graphql"),a.layout);if(e==null)return j.jsx(j.Fragment,{});a=e.inform_treatment_data;e=e.newsworthy_dialog_data;if(a==null||e==null)return j.jsx(j.Fragment,{});var l=a.icon_name,m=a.redirect_data,n=a.body_text,o=a.heading,p=m==null?void 0:m.label;if(n==null||p==null)return j.jsx(j.Fragment,{});a=function(){return p==null?null:j.jsx(c("MXUIButton.react"),{className:"x6s0dn4 x78zum5 x6prxxf xk50ysn xl56j7k x1ye3gou xn6708d xh8yej3",onClick:function(){return g(!f)},size:"medium",style:{backgroundColor:"var(--fds-gray-10)",border:"none",borderRadius:6,color:"var(--fds-gray-100)"},use:"normal",children:p})};m=function(){switch(l){case"info-cursive-circle":return j.jsx(c("MImage.react"),{src:h("1417071")});default:return null}};var q=function(){return j.jsxs(c("MXUIDiv.react"),{className:"x78zum5 xdt5ytf x16n37ib x1198e8h",children:[j.jsx(c("MXUIDiv.react"),{className:"xzsf02u x6prxxf x1xlr1w8 xvq8zen",children:o}),j.jsx(c("MXUIDiv.react"),{className:"x12scifz x1nxh6w3 xo1l8bm x1sibtaa x1gslohp",children:n})]})};return j.jsxs(j.Fragment,{children:[j.jsxs(c("MXUIDiv.react"),{className:"xkhlv3z x809oav x1nrj277 x1h65hz1 x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1n40wrs x78zum5 xdt5ytf x16n37ib xq8finb x14vqqas xyamay9 x1pi30zi x1l90r2v x1swvt13",children:[j.jsxs(c("MXUIDiv.react"),{className:"x78zum5 x1q0g3np",children:[j.jsx(c("MXUIDiv.react"),{className:"xvy4d1p",children:m()}),q()]}),j.jsx(c("MXUIDiv.react"),{className:"x14vqqas x78zum5 x1q0g3np",children:a()})]}),j.jsx(c("MGITNewsworthyScreenModal.react"),{layout:e,onToggle:g,shown:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getActorFirstName",[],(function(a,b,c,d,e,f){function g(a){for(var b=0;b<a.length;b++)if(a[b].part=="first")return a[b]}function a(a){var b=a.text;a=g(a.parts);return a?b.substr(a.offset,a.length):b}e.exports=a}),null);
__d("PhotoSetStoreCore",["KeyedCallbackManager"],(function(a,b,c,d,e,f){var g={_controller:new(b("KeyedCallbackManager"))(),getBySetToken:function(a,b){this._controller.executeOrEnqueue(a,b)},getLoadedPhotoSetTokens:function(){return Object.keys(this._controller.getAllResources())},getBySetTokenImmediate:function(a){return this._controller.getResource(a)},updateData:function(a){var b=a.photo_set;b={icon:b.icon,editURL:b.edit_url,title:b.title,contributors:b.contributors,owner:b.owner,contributorsElem:b.contributors_elem,facepileElem:b.facepile_elem,modifiedTime:b.modified_time,message:b.message,mediaCount:b.media_count,ufi:b.ufi,url:b.url,story:b.story,titleCardStyle:b.title_card_style,permalink:b.permalink,feedbackTarget:b.feedback_target,feedback:b.feedback,referrerType:b.referrer_type,taggingTypeaheadConfig:b.tagging_typeahead_config,taggingTypeaheadSuggestions:b.tagging_typeahead_suggestions,reportFlow:b.report_flow};var c={};c[a.set_token]=b;this._controller.addResourcesAndExecute(c)},updateFeedbackData:function(a){var b=Object.keys(a),c=g.getLoadedPhotoSetTokens();c.forEach(function(c){var d=g.getBySetTokenImmediate(c);b.includes(d.feedbackTarget)&&g._controller.setResource(c,babelHelpers["extends"]({},d,{feedback:a[d.feedbackTarget].feedback}))})},updatePhotoSetStoryFeedbackData:function(a){var b=Object.keys(a);b.forEach(function(b){var c=g.getBySetTokenImmediate(b);if(!c||!c.story)return;g._controller.setResource(b,babelHelpers["extends"]({},c,{story:babelHelpers["extends"]({},c.story,{feedback:a[b].feedback})}))})},reset:function(){this._controller.reset()}};e.exports=g}),null);
__d("MPhotoSetStore",["PhotoSetStoreCore","Stratcom"],(function(a,b,c,d,e,f){(a=b("Stratcom")).listen("m:photosetstore:update",null,function(a){b("PhotoSetStoreCore").updateData(a.getData())});a.listen("m:page:unload-complete",null,function(a){b("PhotoSetStoreCore").reset()});a.listen("m:photosetstore:reset",null,function(){b("PhotoSetStoreCore").reset()});a.listen("m:photosetstore:updatestoryfeedback",null,function(a){b("PhotoSetStoreCore").updatePhotoSetStoryFeedbackData(a.getData())});a.listen("m:photosetstore:updatefeedback",null,function(a){b("PhotoSetStoreCore").updateFeedbackData(a.getData())});e.exports=b("PhotoSetStoreCore")}),null);
__d("PhotoStoreCore",[],(function(a,b,c,d,e,f){var g={actions:{UPDATE:"update"},_photoCache:{},_postCreateCallbacks:{},getPhotoCache:function(a){if(!this._photoCache[a])throw new Error("Photo cache requested for unknown set ID");return this._photoCache[a]},hasBeenCreated:function(a){return!!this._photoCache[a]},clearSetCache:function(a){delete this._photoCache[a],delete this._postCreateCallbacks[a]},getByIndex:function(a,b,c){this.getPhotoCache(a).getItemAtIndex(b,c)},getByIndexImmediate:function(a,b){return this._photoCache[a]?this._photoCache[a].getItemAtIndexImmediate(b):void 0},getItemsInAvailableRange:function(a){var b=this.getAvailableRange(a),c=[];for(var d=b.offset;d<b.length;d++)c.push(this.getByIndexImmediate(a,d));return c},getItemsAfterIndex:function(a,b,c,d){b=this.getCursorByIndexImmediate(a,b);this.fetchForward(a,b,c,d)},getAllByIDImmediate:function(a){var b=this,c=Object.keys(this._photoCache);return c.map(function(c){return b.getByIndexImmediate(c,b.getIndexForID(c,a))}).filter(function(a){return!!a})},getIndexForID:function(a,b){return this._photoCache[a]?this._photoCache[a].getIndexForID(b):void 0},getEndIndex:function(a){a=this.getAvailableRange(a);return a.offset+a.length-1},getCursorByIndexImmediate:function(a,b){b=this.getByIndexImmediate(a,b);return b?this._photoCache[a].getCursorForID(b.id):void 0},hasNextPage:function(a){var b=this.getCursorByIndexImmediate(a,this.getEndIndex(a));return this.getPhotoCache(a).hasNextPage(b)},getAvailableRange:function(a){return this.getPhotoCache(a).getAvailableRange()},hasLooped:function(a){return this.getPhotoCache(a).hasLooped()},fetchForward:function(a,b,c,d){this.getPhotoCache(a).getItemsAfterCursor(b,c,d)},fetchBackward:function(a,b,c,d){this.getPhotoCache(a).getItemsBeforeCursor(b,c,d)},executePostCreate:function(a,b){this._photoCache[a]?b&&b():this._postCreateCallbacks[a]=b},runPostCreateCallback:function(a){var b=this._postCreateCallbacks[a];b&&(b(),delete this._postCreateCallbacks[a])},setPreFetchCallback:function(a,b){this.getPhotoCache(a).setPreFetchCallback(b)},updateData:function(a){var b=a.set_id;!this._photoCache[b]?(this._photoCache[b]=new a.cache_class(a),this.runPostCreateCallback(b)):a.query_metadata.action==g.actions.UPDATE?this._photoCache[b].updateData(a):this._photoCache[b].addData(a)},updateFeedbackData:function(a){var b=Object.keys(a);b.forEach(function(b){return g.getAllByIDImmediate(b).forEach(function(c){c.feedback=a[b].feedback})})},reset:function(){var a=this;Object.keys(this._photoCache).forEach(function(b){return a.clearSetCache(b)})}};e.exports=g}),null);
__d("MPhotoStore",["PhotoStoreCore","Stratcom"],(function(a,b,c,d,e,f){(a=b("Stratcom")).listen("m:photostore:update",null,function(a){b("PhotoStoreCore").updateData(a.getData())});a.listen("m:page:unload-complete",null,function(a){b("PhotoStoreCore").reset()});a.listen("m:photostore:reset",null,function(){b("PhotoStoreCore").reset()});a.listen("m:photostore:updatefeedback",null,function(a){b("PhotoStoreCore").updateFeedbackData(a.getData())});e.exports=b("PhotoStoreCore")}),null);
__d("MPhotoCentralUpdates",["MPhotoSetStore","MPhotoStore","Stratcom"],(function(a,b,c,d,e,f){b("MPhotoStore");b("MPhotoSetStore");a={handleUpdate:function(a,c){a=babelHelpers["extends"]({payloadsource:a},c);b("Stratcom").invoke("m:photostore:update",null,a);b("Stratcom").invoke("m:photostore:afterupdate",null,a)},handlePhotoSets:function(a,c){a=babelHelpers["extends"]({payloadsource:a},c);b("Stratcom").invoke("m:photosetstore:update","store",a)}};e.exports=a}),null);
__d("MSinglePhotoPopupHistoryController",["MHistory","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";var h="photoview",i=null,j=null;function k(){i&&(i.remove(),i=null),j=null}c("Stratcom").listen("m:history:change",null,function(a){var b=c("MHistory").getState();b===h&&a.prevent()});c("Stratcom").listen("m:page:loading",null,function(a){c("Stratcom").invoke("m:photo:navigation",null,a)});function a(a,b){a=a?{redto:a.redirectURL}:null;c("MHistory").pushSoftState(h,a);j=b;i||(i=c("Stratcom").listen("popstate",null,function(){var a=j;k();a&&a()}))}function b(){k(),c("MHistory").popSoftState(h)}function d(a){j=a}g.onOpen=a;g.onClose=b;g.replace=d}),98);
__d("MSinglePhotoPopupViewEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("EventEmitter"))();g["default"]=a}),98);
__d("MSinglePhotoPopupViewController",["cx","CSS","DOM","Event","MBrowserTheme","MSinglePhotoPopupHistoryController","MSinglePhotoPopupViewEventEmitter","MSwipe","MViewport","MZoom","QE2Logger","ScriptPath","Stratcom","SubscriptionsHandler","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=!1,j=null,k=null,l=null,m=!1,n=null,o=null,p="inline_photoview";function q(a){a.commentsPreview!==null&&d("DOM").show(a.commentsPreview),c("CSS").removeClass(a.cardElement,"active"),a.body&&c("CSS").removeClass(a.body,"active"),c("CSS").removeClass(a.footer,"active"),d("DOM").remove(a.closeButton),a.tagButton!=null&&d("DOM").remove(a.tagButton)}function r(a,b){b===void 0&&(b=!1);a.openSubscriptions.release();a.openSubscriptions.engage();if(!a.open)return;b=!!b;c("clearTimeout")(o);var e=a.props;s(a,!0);l!==null&&(l(),l=null);d("MViewport").toggleBodyClass("animatedPhoto",!1);if(!b){q(e);d("MViewport").toggleBodyClass("_78cr",!1);d("MViewport").toggleBodyClass(e.rootClass,!1);d("MViewport").toggleBodyClass("decelerateChildren",!1);if(n!=null){b=d("ScriptPath").getScriptPath();b===p&&d("ScriptPath").set(n);n=null}j!==null&&(j(),j=null);k!==null&&(k(),k=null);d("MBrowserTheme").restore();d("MViewport").toggleHeader(!0);d("MViewport").scrollToNode(e.cardElement);d("MSinglePhotoPopupHistoryController").onClose();c("MSinglePhotoPopupViewEventEmitter").emit("close")}else c("setTimeoutAcrossTransitions")(function(){q(e)},0);a.open=!1}function s(a,b){b===void 0&&(b=!1);m=!m;a=a.props;b||!m?c("CSS").removeClass(a.cardElement,"distractionFree"):c("CSS").addClass(a.cardElement,"distractionFree")}function t(a){a.open?s(a):u(a)}function u(a,b){b===void 0&&(b=!1);if(a.open)return;b=!!b;a.openSubscriptions.release();a.openSubscriptions.engage();var e=a.props;v();m=!1;a.openSubscriptions.addSubscriptions(c("MSinglePhotoPopupViewEventEmitter").addListener("replace",function(){r(a,!0)}));if(b)d("MViewport").toggleBodyClass("animatedPhoto",!1),d("MSinglePhotoPopupHistoryController").replace(function(){r(a)}),e.enableAnimations&&(o=c("setTimeoutAcrossTransitions")(function(){d("MViewport").toggleBodyClass("animatedPhoto",!0),o=null},500));else{b=e.href;var f=null;b!=null&&(f={redirectURL:b});d("MSinglePhotoPopupHistoryController").onOpen(f,function(){r(a)});n=d("ScriptPath").getScriptPath();d("ScriptPath").set(p);k=d("MZoom").enable();d("MBrowserTheme").set("black");d("MViewport").toggleBodyClass("_78cr",!0);d("MViewport").toggleBodyClass(e.rootClass,!0);d("MViewport").toggleBodyClass("decelerateChildren",!0);e.enableAnimations&&d("MViewport").toggleBodyClass("animatedPhoto",!0);j=d("MViewport").disableScroll(!0,!0);d("MViewport").toggleHeader(!1)}e.commentsPreview!==null&&d("DOM").hide(e.commentsPreview);c("CSS").addClass(e.cardElement,"active");e.body&&c("CSS").addClass(e.body,"active");c("CSS").addClass(e.footer,"active");d("DOM").appendContent(e.cardElement,e.closeButton);e.tagButton!==null&&d("DOM").appendContent(e.cardElement,e.tagButton);b=a.props.closeOnSwipe||!!a.props.onSwipeTo;b&&(l=d("MSwipe").on(a.element,{minDistance:30,stopOnEvent:!0},function(b){a.props.closeOnSwipe&&b.direction==="up"?r(a):a.props.onSwipeTo&&(b.direction==="left"?a.props.onSwipeTo(!0):b.direction==="right"&&a.props.onSwipeTo(!1))}));a.open=!0;e.onOpen&&e.onOpen();c("MSinglePhotoPopupViewEventEmitter").emit("open")}function v(){if(i)return;d("QE2Logger").logExposureForUser("mtouch_native_photo_consumption");i=!0}function a(a){var b={open:!1,element:a.element,props:a,openSubscriptions:new(c("SubscriptionsHandler"))()};c("CSS").addClass(a.cardElement,"_78cs");a.body&&c("CSS").addClass(a.body,"_78ct");c("CSS").addClass(a.footer,"_78ct");c("CSS").addClass(a.footer,"_78cu");a.commentsPreview&&c("CSS").addClass(a.commentsPreview,"_78ct");c("CSS").addClass(a.closeButton,"_78co");a.enableAnimations&&c("CSS").addClass(a.cardElement,"animated");var d=new(c("SubscriptionsHandler"))(),e=function(){d.release(),d.engage(),r(b)},f=null;d.addSubscriptions(c("Event").listen(a.closeButton,"click",function(){r(b)}),c("Stratcom").listen("m:photo:navigation",null,e));a={onImageElementUpdated:function(a,e){e===void 0&&(e=!1);if(!e&&a===b.element)return;b.element=a;f!==null&&f.remove();f=c("Event").listen(a,"click",function(){t(b)});d.addSubscriptions(f)},release:e,openPopup:function(){u(b)},closePopup:function(){r(b)},replaceOpened:function(){c("MSinglePhotoPopupViewEventEmitter").emit("replace"),u(b,!0)}};a.onImageElementUpdated(b.element,!0);return a}function b(a){var b=null,d=null,e={onImageElementUpdated:function(a,f){f===void 0&&(f=!1);if(!f&&d===a)return;e.release();d=a;b=c("Event").listen(a,"click",v)},release:function(){d=null,b&&(b.remove(),b=null)}};e.onImageElementUpdated(a);return e}g.initNativeView=a;g.initControlTracker=b}),98);
__d("MSinglePhotoViewGating",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}function b(){return!1}function c(){return!1}function d(){return!1}function e(){return!1}f.shouldShowInSnowflake=a;f.shouldSupportAnimations=b;f.shouldCloseOnSwipe=c;f.isSideSwipeEnabled=d;f.shouldPullNextBatchInBackground=e}),66);
__d("MLinkTracking",["ClientTrackingMessage","MLinkHack","URI","collectDataAttributes","isFacebookURI"],(function(a,b,c,d,e,f){var g;function a(a){var c=h(a);if(!c)return;b("MLinkHack").remove(a);var d=a.getAttribute("href");if(d&&d.indexOf("#")!==0){var e=new(g||(g=b("URI")))(d);if(!b("isFacebookURI")(e))return;var f=new(b("ClientTrackingMessage"))();f.addTrackingMessage(c);f.appendToURI(e);d=e.toString();d&&a.setAttribute("href",d)}}function c(a,c){var d=new(g||(g=b("URI")))(a.getURI());if(!b("isFacebookURI")(d))return;var e=new(b("ClientTrackingMessage"))();e.addTrackingMessage(c);e.appendToURI(d);a.setURI(d.toString())}function h(a){a=b("collectDataAttributes")(a,["ft"]);if(!a)return;return a.ft}e.exports={addFeedTrackingDataToHref:a,addFeedTrackingDataToRequest:c,getFeedTrackingData:h}}),null);
__d("interleaveArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=[];for(var d=0;d<a.length;++d){var e=a[d];e!==void 0&&(c.length>0&&c.push(b),c.push(e))}return c}f["default"]=a}),66);
__d("MSnowflakeHeaderMetaData.react",["cx","fbt","Image.react","MTimestamp.react","MXUIDiv.react","areEqual","interleaveArray","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.renderLocation=function(){return!c.props.location?null:c.props.location},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a){return!(j||(j=b("areEqual")))(this.props,a)};d.renderUpdatedTime=function(){if(!this.props.modifiedTime)return null;var a=k.jsx(b("MTimestamp.react"),{timestamp:this.props.modifiedTime});return!this.props.showNewPermalink?a:k.jsx("span",{children:h._("Updated {updatedTimestamp}",[h._param("updatedTimestamp",a)])})};d.renderPrivacy=function(){if(!this.props.privacyScope)return null;var a=null;this.props.showNewPermalink||(a=this.props.privacyScope.label);return k.jsxs("span",{className:"_4nj-",children:[a,k.jsx(b("Image.react"),{className:"_3v9g",src:this.props.privacyScope.icon_image.uri,alt:this.props.privacyScope.label})]})};d.render=function(){var a=[this.renderUpdatedTime(),this.renderLocation(),this.renderPrivacy()].filter(function(a){return!!a}),c=k.jsx("span",{children:" "});this.props.showNewPermalink||(c=k.jsx("span",{children:" \xb7 "}));a=b("interleaveArray")(a,c);a=a.map(function(a,b){return k.jsx("span",{children:a},b)});return!a.length?k.jsx("span",{}):k.jsx(b("MXUIDiv.react"),{className:"_21h4",children:a})};return c}(k.Component);a.propTypes={modifiedTime:b("prop-types").number,mediaCount:b("prop-types").number,location:b("prop-types").string,showNewPermalink:b("prop-types").bool};e.exports=a}),null);
__d("MSnowflakeTextWithEntities.react",["BaseTextWithEntities.react","Image.react","MEntityLink.react","MTextWithEmoticons.react","URI","areEqual","react"],(function(a,b,c,d,e,f){var g,h,i,j=g||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.renderText=function(a){return j.jsx(b("MTextWithEmoticons.react"),{text:a})},d.renderEntityLink=function(a,c){return j.jsx(b("MEntityLink.react"),{rel:"ignore",entity:c,children:a})},d.getBrowseProfilesURI=function(a){return new(h||(h=b("URI")))("/browse/users/").addQueryData({ids:a.map(function(a){return a.id})})},d.renderAggregatedEntitiesLink=function(a,b){return j.jsx("a",{href:d.getBrowseProfilesURI(b.sample_entities).toString(),children:a})},d.renderImage=function(a){return j.jsx(b("Image.react"),{src:a.image.uri,height:a.image.height,width:a.image.width})},d.renderRange=function(a,b){if(b.entity_with_image)return d.renderImage(b.entity_with_image);return b.entity?d.renderEntityLink(a,b.entity):d.renderAggregatedEntitiesLink(a,b)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){return!(i||(i=b("areEqual")))(this.props,a)};d.render=function(){var a=this.props.text;return j.jsx(b("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{textRenderer:this.renderText,rangeRenderer:this.renderRange,text:a.text,aggregatedRanges:a.aggregated_ranges,imageRanges:a.image_ranges,ranges:a.ranges}))};return c}(j.Component);e.exports=a}),null);
__d("MSnowflakeUFIAction.react",["cx","Image.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.shouldComponentUpdate=function(a){return this.props.icon!==a.icon};d.render=function(){return i.jsx("a",{onClick:this.props.onClick,rel:this.props.rel,href:this.props.href,className:c("joinClasses")("_1w31",this.props.className),"data-testid":void 0,children:i.jsx(c("Image.react"),{"aria-label":this.props["aria-label"],src:this.props.icon})})};return b}(i.Component);a.defaultProps={href:"#",rel:"ignore"};g["default"]=a}),98);
__d("XNFXDialogFromIDController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/report/dialog/",{content_id:{type:"String",required:!0},nfx_location:{type:"String",required:!0}})}),null);
__d("MSnowflakeUFIActionBar.react",["cx","fbt","ix","$InternalEnum","CurrentUser","DOM","FRXStrings","LeftRight.react","MFlyout","MLayerHideOnBlur","MRequest","MSnowflakeUFIAction.react","MXUIDiv.react","ReactDOMLegacy_DEPRECATED","Vector","XNFXDialogFromIDController","areEqual","interleaveArray","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||b("react"),m=b("$InternalEnum")({DEFAULT:"default",CORNER:"corner"});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=null,c.state={shouldTruncateInteractors:!1,maxInteractors:2},c.toggleTagging=function(a){c.props.onToggleTagging(),a.stopPropagation()},c.getIsUserInteractor=function(){return c.props.feedbackData.does_viewer_like||c.props.feedbackData.has_viewer_commented_recently},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return!(k||(k=b("areEqual")))(this.props,a)||!(k||(k=b("areEqual")))(this.state,c)};d.componentDidUpdate=function(){this.checkInteractorsWidth(),this.$3()};d.componentDidMount=function(){this.checkInteractorsWidth(),this.hasMoreActions()&&(this.$1=b("DOM").create("div"),b("ReactDOMLegacy_DEPRECATED").render(this.renderMoreActionBubble(),this.$1,"MSnowflakeUFIActionBar.react.js"),this.$2=new(b("MFlyout"))({nubalign:"center",offsetY:0,position:this.$4()?"below":"above",margin:"medium",width:"auto",addedBehaviors:[b("MLayerHideOnBlur")],context:b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.refs.moreActionButton)},this.$1))};d.componentWillUnmount=function(){this.$2&&(this.$2.destroy(),this.$2=null),this.$1&&(b("ReactDOMLegacy_DEPRECATED").unmountComponentAtNode(this.$1,e.id),delete this.$1)};d.$4=function(){return this.props.displayStyle===m.CORNER};d.$3=function(){if(!this.$2)return;this.$4()?this.$2.setPosition("below"):this.$2.setPosition("above")};d.checkInteractorsWidth=function(){if(this.refs.interactors){var a=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.refs.interactors),c=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.refs.feedbackCounts),d=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.refs.inlineFeedback);a=b("Vector").getElementDimensions(a).y;c=b("Vector").getElementDimensions(c).y;d=b("Vector").getElementDimensions(d).y;a+c>d&&(!this.state.shouldTruncateInteractors?this.setState({shouldTruncateInteractors:!0}):(this.state.maxInteractors>1||this.getIsUserInteractor&&this.state.maxInteractors>0)&&this.setState({maxInteractors:this.state.maxInteractors-1}))}};d.getReportPhotoURI=function(){return b("XNFXDialogFromIDController").getURIBuilder().setString("content_id",this.props.feedbackTarget).setString("nfx_location","photo_viewer").getURI()};d.renderReportItem=function(){var a=this;if(!this.props.canReport)return l.jsx(b("MXUIDiv.react"),{});var c;this.props.isPhoto&&!this.props.isPlayable?c=b("FRXStrings").report_photo_title:c=b("FRXStrings").report_video_title;var d=function(){var c=a.props.feedbackTarget;if(c==null)return;new(b("MRequest"))(a.getReportPhotoURI()).send()};return l.jsx(b("MXUIDiv.react"),{className:"_55i1 _58a0",onClick:d,children:c})};d.renderEditItem=function(){return!this.props.editURL?null:this.renderActionBubble(this.props.editURL,this.props.isAlbum?h._("Edit album"):h._("Edit photo"))};d.renderDeletePhotoItem=function(){return!this.props.deleteURL||!this.props.isPhoto?null:this.renderActionBubble(this.props.deleteURL,h._("Delete photo"))};d.renderActionBubble=function(a,b){return l.jsx("a",{rel:"ignore",href:a,className:"_55i1 _58a0",children:b})};d.renderMoreActionBubble=function(){var a=this;return l.jsxs(b("MXUIDiv.react"),{className:"_55i2","data-testid":void 0,onClick:function(){a.$2&&a.$2.hide()},children:[this.renderEditItem(),this.renderReportItem(),this.renderDeletePhotoItem()]})};d.renderTagAction=function(){if(!this.canCreateTags())return null;var a;this.props.isTaggingMode?a=i("91347"):this.$4()?a=i("91348"):a=i("91346");return l.jsx(b("MSnowflakeUFIAction.react"),{"aria-label":h._("Tag Photo"),icon:a,onClick:this.toggleTagging},"tagAction")};d.renderMoreAction=function(){if(!this.hasMoreActions())return null;var a=this.$4()?i("91343"):i("91342");return l.jsx(b("MSnowflakeUFIAction.react"),{"aria-label":h._("More options"),"data-testid":void 0,ref:"moreActionButton",icon:a},"moreAction")};d.getLikeCount=function(){return this.props.feedbackData.likers?this.props.feedbackData.likers.count:0};d.getCommentCount=function(){return this.props.feedbackData.comments?this.props.feedbackData.comments.count:0};d.renderFeedbackCount=function(){var a=[this.renderLikeCount(),this.renderCommentCount()];return l.jsx(b("MXUIDiv.react"),{className:"_2xh_",ref:"feedbackCounts",children:b("interleaveArray")(a," ")})};d.renderLikeCount=function(){var a=this.getLikeCount();if(!a)return null;a>1?a=h._({"*":"{likes} Likes"},[h._param("likes",a,[0])]):a=h._("{likes} Like",[h._param("likes",1)]);return l.jsx("span",{className:"_2xe3",children:a},"likeCount")};d.renderCommentCount=function(){var a=this.getCommentCount();if(!a)return null;a>1?a=h._({"*":"{comments} Comments"},[h._param("comments",a,[0])]):a=h._("{comments} Comment",[h._param("comments",1)]);return l.jsx("span",{className:"_2xe4",children:a},"commentCount")};d.hasInteractors=function(){return!!this.getInteractors().length};d.getInteractors=function(){return!this.props.feedbackData.interactors?[]:this.props.feedbackData.interactors.nodes.filter(function(a){return a.id!==b("CurrentUser").getID()})};d.getInteractorsCount=function(){return!this.props.feedbackData.interactors?0:this.props.feedbackData.interactors.count};d.renderInteractors=function(){var a=this.getIsUserInteractor(),b=this.getInteractors().map(function(a){return a.name});if(a){a=h._("You");b.splice(0,0,a)}a=this.getInteractorsCount();if(a===0)return null;else if(a==1)return b[0];else if(!this.state.shouldTruncateInteractors&&a==b.length){var c=b[a-1],d=b.slice(0,a-1).join(", ");return h._("{seperatedInteractors} and {lastInteractor}",[h._param("seperatedInteractors",d),h._param("lastInteractor",c)])}else{d=this.state.maxInteractors;c=a-d;a=b.slice(0,d).join(", ");if(d===0)return null;else return h._("{firstInteractors} and {moreCount} more",[h._param("firstInteractors",a),h._param("moreCount",c)])}};d.renderFeedbackSocialText=function(){if(!this.hasInteractors()){if(this.getCommentCount()||this.getLikeCount())return l.jsx(b("MXUIDiv.react"),{children:h._("Write a comment")})}else return l.jsx(b("MXUIDiv.react"),{className:"_2g6d",ref:"interactors",children:this.renderInteractors()});return null};d.canCreateTags=function(){return!!this.props.canCreateTags};d.hasMoreActions=function(){return this.props.canReport||this.props.editURL===null};d.render=function(){var a=[this.renderTagAction(),this.renderMoreAction()].filter(Boolean);if(!a.length)return null;if(this.$4())return l.jsx("div",{className:"_40qv _7a_8",children:a});else return l.jsx("div",{className:"_51cd",children:l.jsxs(b("LeftRight.react"),{className:"_2xi0",ref:"inlineFeedback",children:[l.jsx(b("MXUIDiv.react"),{ref:"actions",className:"_2j65",children:a}),l.jsxs(b("MXUIDiv.react"),{onClick:this.props.onToggleComments,children:[this.renderFeedbackCount(),!this.hasInteractors()&&(this.getCommentCount()||this.getLikeCount())?l.jsx(b("MXUIDiv.react"),{children:h._("Write a comment")}):l.jsx(b("MXUIDiv.react"),{className:"_2g6d",ref:"interactors",children:this.renderInteractors()})]})]})})};return c}(l.Component);a.MSnowflakeActionBarDisplayStyle=m;a.defaultProps={displayStyle:m.DEFAULT};e.exports=a}),null);
__d("MSnowflakeUFI.react",["csx","cx","CSS","DOM","DOMContainer.react","MSnowflakeUFIActionBar.react","MXUIDiv.react","areEqual","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="inline-action-bar";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={collapsed:c.props.initialIsCollapsed,focusComments:!1},c.focusComments=function(){c.setState({collapsed:!1,focusComments:!0})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.shouldComponentUpdate=function(a,b){return!c("areEqual")(this.props,a)||!c("areEqual")(this.state,b)};e.componentDidUpdate=function(a,b){if(this.state.focusComments){if(this.props.ufi){this.props.ufi.scrollIntoView(!1);a=this.props.ufi.querySelector("._uwx");a&&a.focus()}this.setState({focusComments:!1})}};e.toggleCollapsed=function(){this.setState(function(a){return{collapsed:!a.collapsed,focusComments:!0}})};e.$1=function(){var a=d("DOM").scry(this.props.ufi,"*",k);a=a.length&&a[0];return a||null};e.renderPrerenderedUFI=function(){var a=this.props.ufi;if(!a)return null;var b=this.$1();b&&c("CSS").addClass(b,"_1dia");b="_2xi1"+(this.state.collapsed?" _2xi2":"");return j.jsx(c("MXUIDiv.react"),{className:b,children:j.jsx(c("DOMContainer.react"),{children:a})})};e.renderActionBar=function(){var a=this.props.feedbackUpdatingParams,b=a.isPhoto;a=a.isPlayable;var d=b?c("MSnowflakeUFIActionBar.react").MSnowflakeActionBarDisplayStyle.CORNER:c("MSnowflakeUFIActionBar.react").MSnowflakeActionBarDisplayStyle.DEFAULT;return j.jsx(c("MSnowflakeUFIActionBar.react"),{displayStyle:d,isAlbum:this.props.isAlbum,isPhoto:b,isPlayable:a,editURL:this.props.editURL,deleteURL:this.props.deleteURL,isTaggingMode:this.props.isTaggingMode,canReport:this.props.canReport,canCreateTags:this.props.canCreateTags,feedbackTarget:this.props.feedbackTarget,feedbackData:this.props.feedbackData,onToggleTagging:this.props.onToggleTagging,onToggleComments:this.focusComments})};e.render=function(){return j.jsxs(c("MXUIDiv.react"),{children:[this.renderActionBar(),this.renderPrerenderedUFI()]})};return b}(j.Component);a.defaultProps={isShareable:!1,isTaggingMode:!1,canCreateTags:!1,initialIsCollapsed:!0,onToggleTagging:c("emptyFunction")};g["default"]=a}),98);
__d("MSnowflakeAlbumHeaderCard.react",["cx","CssBackgroundImage.react","DOMContainer.react","MEntityLink.react","MImage.react","MSnowflakeHeaderMetaData.react","MSnowflakeTextWithEntities.react","MSnowflakeUFI.react","MXUICard.react","MXUIDiv.react","MXUISpan.react","areEqual","interleaveArray","prop-types","react"],(function(a,b,c,d,e,f,g){var h,i,j=h||b("react");a=b("prop-types").object;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.renderMessage=function(){return!d.props.message?null:j.jsx(b("MXUIDiv.react"),{className:"_26p9",children:j.jsx(b("MSnowflakeTextWithEntities.react"),{text:d.props.message})})},d.renderUFI=function(){return j.jsx(b("MSnowflakeUFI.react"),{ufi:d.props.ufi,feedbackTarget:d.props.feedbackTarget,feedbackUpdatingParams:{isAlbum:!0,targetKey:d.props.feedbackTarget},isShareable:!0,feedbackData:d.props.feedback,initialIsCollapsed:d.props.initialIsUFICollapsed})},d.renderTitle=function(){var a=d.props.title;a&&a.text&&(a=a.text);return j.jsx(b("MXUIDiv.react"),{className:"_9j8",children:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){return!(i||(i=b("areEqual")))(this.props,a)};d.renderMetaData=function(){return j.jsx(b("MSnowflakeHeaderMetaData.react"),{location:this.props.location,modifiedTime:this.props.modifiedTime,mediaCount:this.props.mediaCount,privacyScope:this.props.privacyScope,showNewPermalink:this.props.showNewPermalink})};d.renderContributors=function(){var a=this;if(!this.props.contributors||!this.props.contributors.length)return null;if(!this.props.showNewPermalink){var c=[this.props.owner].concat(this.props.contributors.filter(function(b){return b.id!==a.props.owner.id}));c=b("interleaveArray")(c.map(function(a,c){return j.jsx(b("MXUISpan.react"),{className:"_5v15",children:j.jsx(b("MEntityLink.react"),{entity:a,children:a.name})},c)}),", ");return j.jsxs(b("MXUIDiv.react"),{className:"_5v16",children:["By ",c]})}else{if(this.props.contributors.length<2)return null;c=this.props.contributors.map(function(a,c){return j.jsx(b("MEntityLink.react"),{entity:a,"aria-label":a.name,className:"_187c",children:j.jsx(b("MImage.react"),{className:"_187e",height:32,src:a.profile_picture.uri,width:32})},c)});return j.jsx(b("MXUIDiv.react"),{className:"_189o",children:c})}};d.renderFollowButton=function(){return!this.props.followButton?null:j.jsx(b("DOMContainer.react"),{children:this.props.followButton})};d.renderCoverSection=function(){return!this.props.showNewPermalink?null:j.jsxs(b("MXUIDiv.react"),{className:"_189r",children:[j.jsx(b("CssBackgroundImage.react"),{backgroundPosition:"50% 25%",className:"_189s",imageURI:this.props.coverPhotoSrc}),this.renderFollowButton()]})};d.renderReportAlbumBtn=function(){return j.jsx(b("MXUIDiv.react"),{className:"_85zx",children:j.jsx(b("DOMContainer.react"),{children:this.props.reportAlbumBtn})})};d.render=function(){var a=j.jsxs(b("MXUIDiv.react"),{className:"_tmc",children:[this.renderCoverSection(),this.renderTitle(),this.renderMetaData(),this.renderMessage(),this.renderContributors(),this.renderReportAlbumBtn()]});this.props.showNewPermalink||(a=j.jsxs(b("MXUIDiv.react"),{className:"_tmc",children:[this.renderCoverSection(),this.renderTitle(),this.renderContributors(),this.renderMessage(),this.renderMetaData()]}));return j.jsx(b("MXUIDiv.react"),{className:(this.props.showNewPermalink?"":"_189t")+(this.props.showNewPermalink?" _189u":""),children:j.jsxs(b("MXUICard.react"),{className:"_4zvh","data-testid":void 0,children:[a,this.renderUFI()]})})};return c}(j.Component);c.propTypes={feedbackTarget:b("prop-types").string.isRequired,feedback:b("prop-types").object.isRequired,message:b("prop-types").object,modifiedTime:b("prop-types").number,mediaCount:b("prop-types").number,title:b("prop-types").oneOfType([b("prop-types").string,a]).isRequired,contributors:b("prop-types").arrayOf(b("prop-types").object),owner:b("prop-types").object,initialIsUFICollapsed:b("prop-types").bool,ufi:b("prop-types").instanceOf(HTMLElement),followButton:b("prop-types").instanceOf(HTMLElement),coverPhotoSrc:b("prop-types").string,showNewPermalink:b("prop-types").bool,reportAlbumBtn:b("prop-types").any};e.exports=c}),null);
__d("MSnowflakePagerCard.react",["cx","FullBleedFeedQE","MLoadingSpinner.react","MXUICard.react","MXUIDiv.react","OnVisible.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(b("FullBleedFeedQE").fullBleed)return i.jsx(b("MXUIDiv.react"),{className:"_45_8",children:i.jsx(b("OnVisible.react"),{onVisible:this.props.onFetchMore,children:i.jsx(b("MLoadingSpinner.react"),{})})});else return i.jsx(b("MXUICard.react"),{className:"_45_8",children:i.jsx(b("OnVisible.react"),{onVisible:this.props.onFetchMore,children:i.jsx(b("MLoadingSpinner.react"),{})})})};return c}(i.Component);e.exports=a}),null);
__d("MSnowflakePhotoCardFacebox.react",["cx","ShimButton.react","prop-types","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onFaceboxSelected&&c.props.onFaceboxSelected(c.props.facebox)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.facebox;a={top:a.top+"%",left:a.left+"%",width:a.width+"%",height:a.height+"%"};return i.jsx(b("ShimButton.react"),{className:"_5piq",onClick:this.$1,style:a})};return c}(i.Component);a.propTypes={facebox:b("prop-types").object,onFaceboxSelected:b("prop-types").func};e.exports=a}),null);
__d("MSnowflakePhotoCardTagArrowDirection",["keyMirror"],(function(a,b,c,d,e,f,g){a=c("keyMirror")({UP:null,DOWN:null,LEFT:null,RIGHT:null,UP_RIGHT:null,DOWN_LEFT:null,UP_LEFT:null,DOWN_RIGHT:null,NO_DIRECTION:null});g["default"]=a}),98);
__d("MSnowflakePhotoCardTag.react",["cx","MSnowflakePhotoCardTagArrowDirection","MeasuredComponent.react","ShimButton.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b)||this;d.updateClientRect=function(a){d.setState({clientRect:a}),d.props.onTagMeasured&&d.props.onTagMeasured(d.props.facebox,a)};d.getAdjustedPosition=function(){var a=d.props.parentRect,b=a.width;a=a.height;var c,e;if(d.props.position)c=d.props.position.left,e=d.props.position.top;else{var f=d.state.defaultLeft*b/100,g=d.state.defaultTop*a/100;c=f;e=g;if(d.state.clientRect){var h=d.state.clientRect.width,i=d.state.clientRect.height;c=Math.max(0,f-h/2);c=Math.min(c,b-h);Math.max(0,g-i/2);e=Math.min(g,a-i)}}return{left:c/b*100,top:e/a*100}};d.renderDeleteButton=function(a){return!d.props.canDelete?null:i.jsx(c("ShimButton.react"),{className:"_e3j","data-sigil":"touchable",onClick:function(){return d.props.onTagDelete(a)}})};b=b.facebox;d.state={defaultLeft:b.x,defaultTop:b.top+b.height,realPosition:!1,clientRect:null};return d}var d=b.prototype;d.render=function(){var a=this.props.facebox,b=this.getAdjustedPosition();b={left:b.left+"%",top:b.top+"%",visibility:this.state.clientRect?"visible":"hidden"};return i.jsx(c("MeasuredComponent.react"),{onMeasure:this.updateClientRect,children:i.jsxs("div",{className:"_e3g"+(this.props.tagArrowDirection===c("MSnowflakePhotoCardTagArrowDirection").UP?" _1gvp":""),style:b,children:[i.jsx("div",{className:"_e3h",children:a.tagName}),this.renderDeleteButton(a)]})})};return b}(i.Component);a.defaultProps={onTagDelete:c("emptyFunction"),canDelete:!0,tagArrowDirection:c("MSnowflakePhotoCardTagArrowDirection").UP};g["default"]=a}),98);
__d("getScrollPosition",["getDocumentScrollElement","getUnboundedScrollPosition"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("getDocumentScrollElement")(a.ownerDocument||a.document);a.Window&&a instanceof a.Window&&(a=b);var d=c("getUnboundedScrollPosition")(a);b=a===b?a.ownerDocument.documentElement:a;var e=a.scrollWidth-b.clientWidth;a=a.scrollHeight-b.clientHeight;d.x=Math.max(0,Math.min(d.x,e));d.y=Math.max(0,Math.min(d.y,a));return d}g["default"]=a}),98);
__d("MSnowflakePhotoCardTagger.react",["cx","fbt","FamilyTaggingConfig","MSnowflakePhotoCardFacebox.react","MSnowflakePhotoCardTag.react","MTaggerTypeaheadPresenter.react","MTokenizer.react","MeasuredComponent.react","ReactDOMLegacy_DEPRECATED","Vector","areEqual","getElementPosition","getScrollPosition","prop-types","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||b("react"),l=200,m=10;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.hasTags=function(){return d.hasTagsWithoutFaceboxes()||d.hasTaggedFaceboxes()};d.hasTagsWithoutFaceboxes=function(){return Object.keys(d.state.tags).length};d.hasTaggedFaceboxes=function(){return Object.keys(d.state.faceboxes).any(function(a){return!!d.state.faceboxes[a].tagUserID})};d.resetTokenizer=function(){d.setState({activeFacebox:null})};d.$1=function(a){d.needFocus=!0,d.setState({activeFacebox:a})};d.$2=function(){d.setState({activeFacebox:null})};d.$3=function(a){d.refs.tokenizer.setEntries([]);a=d.state.activeFacebox;if(a.fbid){var b=d.state.faceboxes;b[a.fbid]=a;d.setState({activeFacebox:null,faceboxes:b})}else{b=d.state.tagsWithoutFaceboxes;b[a.tagUserID]=a;d.setState({activeFacebox:null,tagsWithoutFaceboxes:b})}d.props.onTagAdd&&d.props.onTagAdd(a)};d.$4=function(){var a={display:"none"},c={},e=d.state.activeFacebox;if(d.state.activeFacebox){var f=d.state.clientRect.width,g=f*e.width/100,i=e.left*f/100;a={top:e.top+e.height+"%",width:l};i=i+(g-l)/2;i=Math.max(0,i);i=Math.min(i,f-l);a.left=i;g=d.state.faceboxes;for(f in g)e=g[f],e.tagUserID&&(c[e.tagUserID]=!0);Object.keys(d.state.tagsWithoutFaceboxes).forEach(function(a){return c[a]=!0})}i=h._("Start typing a name...");e=b("FamilyTaggingConfig").gk;return k.jsx("div",{style:a,className:"_4uod",children:k.jsx(b("MTokenizer.react"),{ref:"tokenizer",presenter:b("MTaggerTypeaheadPresenter.react"),typeaheadConfig:d.props.typeaheadConfig,hideSelected:!0,suggestions:d.props.typeaheadSuggestions,onAdd:d.$3,includeFamilyTags:e,excludedEntries:c,placeholder:i,maxSuggestionCount:m})})};d.$5=function(a){return!d.state.clientRect?null:k.jsx(b("MSnowflakePhotoCardTag.react"),{canDelete:a.canRemove,parentRect:d.state.clientRect,facebox:a,onTagDelete:d.onTagDelete},a.tagUserID)};d.$6=function(a){return k.jsx(b("MSnowflakePhotoCardFacebox.react"),{facebox:a,onFaceboxSelected:d.$1},a.fbid)};d.handleImageClick=function(a){a.stopPropagation();if(d.state.activeFacebox)d.$2();else if(d.props.freeformTagging){var c=b("getElementPosition")(b("ReactDOMLegacy_DEPRECATED").findDOMNode(babelHelpers.assertThisInitialized(d)));b("getScrollPosition")(window);a=new(b("Vector"))(a.clientX,a.clientY).sub(b("Vector").from(c.x,c.y));d.createFreeFormTag(a.x,a.y)}};d.createFreeFormTag=function(a,b){var c=d.state.clientRect;a={x:a/c.width*100,y:b/c.height*100,width:10,height:10,left:(a-5)/c.width*100,top:(b-5)/c.height*100,recognitions:[]};d.$1(a)};d.updateClientRect=function(a){d.setState({clientRect:a})};d.onTagDelete=function(a){d.props.onTagDelete&&d.props.onTagDelete(a);var b=d.state.faceboxes;a.fbid?(b[a.fbid]=a,d.setState({faceboxes:b})):(delete d.state.tagsWithoutFaceboxes[a.tagUserID],d.setState({tagsWithoutFaceboxes:d.state.tagsWithoutFaceboxes}))};var e={};c.initialFaceboxes&&Object.assign(e,c.initialFaceboxes);d.state={faceboxes:e,tagsWithoutFaceboxes:c.initialTags||{},activeFacebox:null,clientRect:null};return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){(j||(j=b("areEqual")))(this.state.faceboxes,a.initialFaceboxes)||this.setState({faceboxes:a.initialFaceboxes,activeFacebox:null})};d.componentDidMount=function(){this.refs.tokenizer.initWithoutFocus()};d.componentWillUnmount=function(){this.refs.tokenizer.cleanup()};d.componentDidUpdate=function(){if(this.needFocus){this.needFocus=!1;var a=this.state.activeFacebox,b=[];a.ignoreRecognition||(b=a.recognitions.map(function(a){return a.user.fbid}));this.refs.tokenizer.focusAndUpdateSuggestionsIDs(b)}};d.render=function(){var a=this,c=k.Children.only(this.props.children),d=[],e=[];if(!this.props.imageIsLoading){var f=this.state.faceboxes;for(var g in f){var h=f[g];h.tagUserID?e.push(this.$5(h)):d.push(this.$6(h))}Array.prototype.push.apply(e,Object.keys(this.state.tagsWithoutFaceboxes).map(function(b){return a.$5(a.state.tagsWithoutFaceboxes[b])}))}return k.jsx(b("MeasuredComponent.react"),{onMeasure:this.updateClientRect,children:k.jsxs("div",{className:"_1k3",children:[k.jsx("div",{onClick:this.handleImageClick,role:"presentation",children:c}),d,e,this.$4()]})})};return c}(k.Component);a.propTypes={initialFaceboxes:b("prop-types").object,initialTags:b("prop-types").object,onTagAdd:b("prop-types").func,onTagDelete:b("prop-types").func,typeaheadConfig:b("prop-types").object.isRequired,typeaheadSuggestions:b("prop-types").array,freeformTagging:b("prop-types").bool.isRequired,imageIsLoading:b("prop-types").bool};e.exports=a}),null);
__d("MBlurredBackgroundImage.react",["MXUIDiv.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MXUIDiv.react"),{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 xh8yej3",children:h.jsx(c("MXUIDiv.react"),{className:"xu1mrb x1yyh9jt x1jx8tsq",children:h.jsx("span",{className:"xtea3wc",children:a.children})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWarningScreenBottomAction.react",["ix","MImage.react","MTextWithEntitiesRelay.react","MWarningScreenBottomAction_data.graphql","MXUIButton.react","MXUIDiv.react","RelayHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e=d("RelayHooks").useFragment(i!==void 0?i:i=b("MWarningScreenBottomAction_data.graphql"),a.data),f=e.context,g=e.label;if(f==null||g==null)return j.jsx(j.Fragment,{});e=function(){if(a.logEvent!=null){var b=a.isCovered?"SHOW_CONTENT":"HIDE_CONTENT";a.logEvent("action",b)}a.setIsCovered(!a.isCovered)};var k=function(){return j.jsxs(c("MXUIDiv.react"),{className:"x6s0dn4 x78zum5 x1q0g3np",children:[l(),m()]})},l=function(){return j.jsx(c("MImage.react"),{height:20,src:a.isCovered?h("480474"):h("516463"),width:20})},m=function(){return a.isCovered?j.jsx(c("MTextWithEntitiesRelay.react"),{className:"xzsf02u x1nxh6w3 x1s688f xet2fuk",textWithEntities:g}):j.jsx("span",{className:"xzsf02u x1nxh6w3 x1s688f xet2fuk",children:f})};return j.jsx(c("MXUIButton.react"),{children:k(),className:"x76ihet xwmqs3e x112ta8 xxxdfa6",onClick:e,style:{border:"none"}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CIXWarningScreenActions",[],(function(a,b,c,d,e,f){a=Object.freeze({AGE_VERIFICATION:"AGE_VERIFICATION",CLICK_FOLLOW_UP_SCREEN_CTA:"CLICK_FOLLOW_UP_SCREEN_CTA",CLOSE_LEARN_MORE_BOTTOM_SHEET:"CLOSE_LEARN_MORE_BOTTOMSHEET",COLLAPSE_LEARN_MORE_BOTTOMSHEET:"COLLAPSE_LEARN_MORE_BOTTOMSHEET",EXPAND_LEARN_MORE_BOTTOMSHEET:"EXPAND_LEARN_MORE_BOTTOMSHEET",GO_TO_FEED:"GO_TO_FEED",HELP_CENTER_REDIRECT:"HELP_CENTER_REDIRECT",HIDE_CONTENT:"HIDE_CONTENT",OPEN_CENSUS_LINK:"OPEN_CENSUS_LINK",OPEN_COMMUNITY_STANDARDS:"OPEN_COMMUNITY_STANDARDS",OPEN_EXTERNAL_LINK:"OPEN_EXTERNAL_LINK",OPEN_FACT_CHECK_ITEM:"OPEN_FACT_CHECK_ITEM",OPEN_LINK:"OPEN_LINK",OPEN_MISINFO_SEE_WHY_DIALOG:"OPEN_MISINFO_SEE_WHY_DIALOG",SEE_WHY:"SEE_WHY",SEE_WHY_LIGHTWEIGHT_NEGATIVE_FEEDBACK:"SEE_WHY_LIGHTWEIGHT_NEGATIVE_FEEDBACK",SEE_WHY_LIGHTWEIGHT_POSITIVE_FEEDBACK:"SEE_WHY_LIGHTWEIGHT_POSITIVE_FEEDBACK",SHOW_CONTENT:"SHOW_CONTENT"});f["default"]=a}),66);
__d("MWarningScreenMisinformationDialog.react",["ix","MDialog.react","MImage.react","MLayerHideOnBlur","MTextWithEntitiesRelay.react","MWarningScreenMisinformationDialogQuery.graphql","MXUIDiv.react","RelayHooks","ge","goURI","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e,f=d("RelayHooks").useLazyLoadQuery(i!==void 0?i:i=b("MWarningScreenMisinformationDialogQuery.graphql"),{fact_check_ids:[],id:a.contentID,location:"misinfo_overlay",render_style:"post_warning"});f=f.fact_check_details_content;if(f==null)return j.jsx(j.Fragment,{});var g=f.explanation_attribution,k=f.fact_check_articles_title,l=f.fact_checker,m=f.fact_checks,n=f.learn_more,o=f.title;f=function(){return j.jsxs(c("MXUIDiv.react"),{className:"x6s0dn4 x78zum5 x1q0g3np x11fxgd9",children:[j.jsx(c("MXUIDiv.react"),{className:"x10w6t97 x1td3qas",children:j.jsx(c("MImage.react"),{height:32,src:h("1358036"),width:32})}),j.jsx(c("MXUIDiv.react"),{className:"x6prxxf xo1l8bm x16ydxro",children:j.jsx(c("MTextWithEntitiesRelay.react"),{textWithEntities:g})})]})};var p=function(){return j.jsx(c("MXUIDiv.react"),{className:"x78zum5 xdt5ytf x14vqqas xnuq7ks",children:m.map(function(a,b){var d;return j.jsxs(c("MXUIDiv.react"),{className:"x6s0dn4 x1ypdohk x78zum5 x1q0g3np x1anpbxc xyorhqc",onClick:function(){return c("goURI")(a.external_uri)},children:[j.jsx(c("MXUIDiv.react"),{className:"x1peatla x1fu8urw",children:j.jsx(c("MImage.react"),{height:64,src:(d=a.attachment_thumbnail)==null?void 0:(d=d.image)==null?void 0:d.uri,width:64})}),j.jsxs(c("MXUIDiv.react"),{className:"x78zum5 xdt5ytf x1tpqehw",children:[j.jsxs(c("MXUIDiv.react"),{className:"x6s0dn4 x78zum5 x1q0g3np",children:[j.jsx(c("MXUIDiv.react"),{className:"xzsf02u x1pg5gke xo1l8bm",children:(d=a.provider)==null?void 0:d.name}),j.jsx(c("MXUIDiv.react"),{className:"xaat2h6 x8u2fvd x1ht7hnu x1quq95r x5yzy4c xg32yw2 x1pg5gke x1xlr1w8 x16vho4v xthy2uy x16hj40l xsyo7zv x1nn3v0j x1120s5i",children:l})]}),j.jsx(c("MXUIDiv.react"),{className:"xzsf02u x1f6kntn x1s688f xr9ek0c",children:j.jsx(c("MTextWithEntitiesRelay.react"),{textWithEntities:a.title})})]})]},b)})})},q=function(){return j.jsx(c("MXUIDiv.react"),{className:"x1lkfr7t xo1l8bm xg87l8a",children:k})},r=function(){return j.jsx(c("MXUIDiv.react"),{className:"xzsf02u x1nxh6w3 xo1l8bm x1anpbxc",children:j.jsx(c("MTextWithEntitiesRelay.react"),{textWithEntities:n})})},s=function(){return j.jsx(c("MXUIDiv.react"),{className:"x1603h9y xo1l8bm",children:o})};return j.jsx(c("MDialog.react"),{addedBehaviors:[c("MLayerHideOnBlur")],bottomAlign:!0,isModal:((e=c("ge")("viewport"))==null?void 0:e.style.display)==="none",onToggle:a.onToggle,shown:a.shown,children:j.jsxs(c("MXUIDiv.react"),{className:"x78zum5 xdt5ytf x1swvt13 x1pi30zi x9desvi x1s14bel xdpxx8g",children:[s(),f(),q(),p(),r()]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWarningScreenCenterAction.react",["CIXWarningScreenActions","MTextWithEntitiesRelay.react","MWarningScreenCenterAction_data.graphql","MWarningScreenMisinformationDialog.react","MXUIButton.react","RelayHooks","goURI","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useState;function a(a){var e=j(!1),f=e[0],g=e[1];e=d("RelayHooks").useFragment(h!==void 0?h:h=b("MWarningScreenCenterAction_data.graphql"),a.data);var k=e.context,l=e.label,m=e.type;if(l==null)return i.jsx(i.Fragment,{});if(k==null&&"OPEN_MISINFO_SEE_WHY_DIALOG"!=m)return i.jsx(i.Fragment,{});var n=function(){var b=a.logEvent;if(b!=null){var d=m!=null?c("CIXWarningScreenActions")[String(m)]:null;b("action",d)}switch(m){case"OPEN_MISINFO_SEE_WHY_DIALOG":g(!f);break;default:c("goURI")(k);break}};e=function(){return i.jsx(c("MXUIButton.react"),{children:i.jsx(c("MTextWithEntitiesRelay.react"),{textWithEntities:l}),className:"x6prxxf xc9qbxq xn6708d x1ye3gou",onClick:n,size:"medium",style:{borderRadius:6},use:"normal"})};var o=function(){return m!=="OPEN_MISINFO_SEE_WHY_DIALOG"?null:i.jsx(c("MWarningScreenMisinformationDialog.react"),{contentID:a.contentID,onToggle:g,shown:f})};return i.jsxs(i.Fragment,{children:[e(),o()]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWarningScreenCover.react",["MImage.react","MTextWithEntitiesRelay.react","MWarningScreenCenterAction.react","MWarningScreenCover_data.graphql","MXUIDiv.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=d("RelayHooks").useFragment(h!==void 0?h:h=b("MWarningScreenCover_data.graphql"),a.data),f=e.center_actions,g=e.icon,j=e.subtitle,k=e.title;e=function(){if(f==null||f.length==0)return i.jsx(i.Fragment,{});var b=f.map(function(b,d){return i.jsx(c("MWarningScreenCenterAction.react"),{contentID:a.contentID,data:b,logEvent:a.logEvent},d)});return i.jsx(c("MXUIDiv.react"),{className:"x78zum5 x1q0g3np x14vqqas",children:b})};var l=function(){return(g==null?void 0:g.uri)==null?i.jsx(i.Fragment,{}):i.jsx(c("MImage.react"),{src:g.uri,width:24,height:24})},m=function(){return j==null?i.jsx(i.Fragment,{}):i.jsx(c("MXUIDiv.react"),{className:"x14ctfv x6prxxf x1xmf6yo",children:i.jsx(c("MTextWithEntitiesRelay.react"),{textWithEntities:j})})},n=function(){return k==null?i.jsx(i.Fragment,{}):i.jsx(c("MXUIDiv.react"),{className:"x14ctfv x1lkfr7t x117nqv4 x1xmf6yo",children:i.jsx(c("MTextWithEntitiesRelay.react"),{textWithEntities:k})})};return i.jsxs(c("MXUIDiv.react"),{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 x1pi30zi x1l90r2v x1swvt13 x2b8uid",children:[l(),n(),m(),e()]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWarningScreenOverlay.react",["MXUIDiv.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return!a.isCovered?h.jsx(h.Fragment,{}):h.jsx(c("MXUIDiv.react"),{className:"x6s0dn4 x1ey2m1c x78zum5 xdt5ytf xl56j7k xu96u03 x10l6tqk x3m8u43 x13vifvy x1vjfegm x18l40ae",children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WarningScreenType",[],(function(a,b,c,d,e,f){a=Object.freeze({GRAPHIC:"Violence and Gore",HATE:"Hate",CHILD_ABUSE_NON_SEXUAL:"Child Abuse (non-sexual)",SENSITIVE:"Sensitive",CRUEL:"Cruel",MATURE_ONLY_14_AND_OVER:"Mature Only 14 And Over",SENSITIVE_TEXT:"Sensitive Text",FALSE_NEWS:"False News",FALSE_HEADLINE_NEWS:"False Headline News",MISLEADING_NEWS:"Misleading News",ALTERED_MEDIA:"Altered Media",MISSING_CONTEXT:"Missing Context",GOVERNMENT_CORRECTION:"Government Correction",CENSUS_BORDERLINE:"Census Borderline",WIDELY_DEBUNKED_HOAX_COVID:"Widely Debunked Hoax Covid",HEALTH_GENERIC:"Health Generic",GENERIC_INFORM_TREATMENT:"Generic Inform Treatment",CLIMATE_GENERIC_INFORM_TREATMENT:"Climate Science Generic Inform Treatment",NEWSWORTHY:"Newsworthy",SELF_APPLIED_GRAPHIC_VIOLENCE:"Self Applied Graphic Violence",CIVIC_VOTER_INFORM_TREATMENT:"Civic Voter Inform Treatment",CIVIC_VOTER_INFORM_TREATMENT_FOR_MM:"Civic Voter Inform Treatment For Myanmar",CIVIC_VOTER_INFORM_TREATMENT_FOR_BR:"Civic Voter Inform Treatment For Brazil",CIVIC_VOTER_INFORM_TREATMENT_FOR_ID:"Civic Voter Inform Treatment For Indonesia",CIVIC_FACTS_ABOUT_VOTING_INFORM_TREATMENT:"Civic Facts About Voting Inform Treatment",HACK_AND_LEAK:"Hack And Leak",GRAPHIC_MISINFO:"Graphic Misinfo",WIDELY_DEBUNKED_HOAX_VACCINE:"Widely Debunked Hoax Vaccine",WORK_RECRUITING_GROUP_POST:"Recruiting Group Post",USER_APPLIED:"User Applied",BLOCKS:"Blocks",VIOLATING_RESHARE:"Violating reshare",MISINFORMATION:"Misinformation",GENERIC_CIVIC:"Generic Civic",COMPASS:"Compass",GENERIC_INFORM:"Generic Inform",DUMMY_GIT:"Dummy GIT",ANIMAL_VIOLENCE:"Animal Violence",POLITICAL:"Politically Charged",PROFANITY:"Profanity",CENSUS_MISINFO:"Census Misinfo",COVID_ELECTION_BORDERLINE:"Covd Election Borderline",OBJECTIONABLE:"Sexual"});f["default"]=a}),66);
__d("MWarningScreen.react",["CixWarningScreensFalcoEvent","MBlurredBackgroundImage.react","MWarningScreenBottomAction.react","MWarningScreenCover.react","MWarningScreenOverlay.react","MWarningScreen_data.graphql","MXUIDiv.react","RelayHooks","WarningScreenType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useState;function a(a){var e=l(!0),f=e[0],g=e[1];e=d("RelayHooks").useFragment(h!==void 0?h:h=b("MWarningScreen_data.graphql"),a.data);var m=e==null?void 0:e.view_model,n=j(function(b,d){d===void 0&&(d=null);if((m==null?void 0:m.top_objectionable_category)==null)return;c("CixWarningScreensFalcoEvent").log(function(){return{action:d,content_id_raw:a.contentID,event:b,integrity_ui_element:a.warningScreenUIElement,inform_session_id:m.inform_session_id,story_ent_identifier_graphql_id:a.storyID,story_render_location:a.storyRenderLocation,surface:a.surface,top_warning_screen_category:c("WarningScreenType")[String(m.top_objectionable_category)],rendering_type:"warning_screens"}})},[a.contentID,a.storyID,a.storyRenderLocation,a.surface,a.warningScreenUIElement,m]);k(function(){return n("mounted")},[n]);if(m==null)return i.jsx(i.Fragment,{children:a.children});e=function(){if(m.bottom_actions==null||m.bottom_actions.length==0)return i.jsx(i.Fragment,{});var a=m.bottom_actions.map(function(a,b){return i.jsx(c("MWarningScreenBottomAction.react"),{data:a,isCovered:f,logEvent:n,setIsCovered:g},b)});return i.jsx(c("MXUIDiv.react"),{className:"x6s0dn4 x78zum5 x1q0g3np x1vqgdyp xl56j7k",children:a})};var o=function(){return i.jsx(c("MWarningScreenCover.react"),{contentID:a.contentID,data:m,logEvent:n})},p=function(){return f?i.jsx(c("MBlurredBackgroundImage.react"),{children:a.children}):i.jsx(c("MXUIDiv.react"),{children:a.children})},q=function(){return i.jsx(c("MWarningScreenOverlay.react"),{isCovered:f,children:o()})};return i.jsxs(i.Fragment,{children:[i.jsxs(c("MXUIDiv.react"),{className:"x1n2onr6",children:[p(),q()]}),e()]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPhotosEditPhotoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/photos/edit/{id}/",{id:{type:"FBID",required:!0},notice_id:{type:"Int"},delete_cancelled:{type:"Exists",defaultValue:!1}})}),null);
__d("MSnowflakePhotoCard.react",["cx","invariant","ix","FullBleedFeedQE","Image.react","MGITCardLayout.react","MSinglePhotoPopupViewController","MSinglePhotoViewGating","MSnowflakePhotoCardTagger.react","MSnowflakePhotoCardWithGITQuery.graphql","MSnowflakeTextWithEntities.react","MSnowflakeUFI.react","MWarningScreen.react","MXUICard.react","MXUIDiv.react","ReactDOMLegacy_DEPRECATED","RelayFBEnvironment","RelayHooks","RelayModern","URI","XPhotosEditPhotoController","emptyFunction","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l;b("RelayHooks").graphql;var m=b("RelayModern").QueryRenderer,n=k||(k=b("react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={taggingMode:d.props.initialTaggingMode},d.toggleTaggingMode=function(){d.setState({taggingMode:!d.state.taggingMode})},d.deactivateTaggingMode=function(){d.setState({taggingMode:!1})},d.renderBody=function(){var a=[d.renderMessage(),d.renderUFI()].filter(function(a){return!!a});if(!a.length)return null;var c="_2hao _55x2";return n.jsx(b("MXUIDiv.react"),{ref:function(a){return d.bodyEl=a},className:c,children:a})},d.canCreateTags=function(){return d.props.canCreateTags},d.canDeleteTags=function(){return d.props.canDeleteTags&&d.hasTags()},d.hasTags=function(){return d.refs.photoCardTagger.hasTags()},d.canActivateTaggingMode=function(){return(d.canCreateTags()||d.canDeleteTags())&&!d.state.taggingMode},d.renderImage=function(){return!d.state.taggingMode?d.renderBasicImage():n.jsx(b("MSnowflakePhotoCardTagger.react"),{ref:"photoCardTagger",initialFaceboxes:d.props.initialFaceboxes,initialTags:d.props.initialTags,freeformTagging:d.props.freeformTagging,onTagAdd:d.props.onTagAdd,onTagDelete:d.props.onTagDelete,typeaheadConfig:d.props.typeaheadConfig,typeaheadSuggestions:d.props.typeaheadSuggestions,children:d.renderBasicImage()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillUpdate=function(a,c){!c.taggingMode||a.canCreateTags||h(0,786),!this.state.taggingMode&&c.taggingMode?(this.props.onActivateTagging(this),this.photoViewSession&&this.photoViewSession.closePopup()):this.photoViewSession&&b("MSinglePhotoViewGating").isSideSwipeEnabled()&&(a.openSinglePhotoView&&!this.props.openSinglePhotoView&&(this.isSinglePhotoViewSupported()?this.photoViewSession.replaceOpened():this.props.moveTo&&this.props.moveTo("continue")))};d.renderMessage=function(){return!this.props.message||!this.props.message.text?null:n.jsx(b("MXUIDiv.react"),{className:"_26p9",children:n.jsx(b("MSnowflakeTextWithEntities.react"),{text:this.props.message})},"message")};d.getEditURL=function(){return!this.props.canEdit||!this.props.photoID?null:b("XPhotosEditPhotoController").getURIBuilder().setFBID("id",this.props.photoID).getURI().toString()};d.getDeleteURL=function(){return!this.props.canDelete||!this.props.photoID?null:new(l||(l=b("URI")))("/photo.php").addQueryData("fbid",this.props.photoID).addQueryData("delete",!0).toString()};d.renderUFI=function(){return!this.props.ufi?null:n.jsx(b("MSnowflakeUFI.react"),{ufi:this.props.ufi,editURL:this.getEditURL(),deleteURL:this.getDeleteURL(),isTaggingMode:this.state.taggingMode,initialIsCollapsed:this.props.initialIsUFICollapsed,canReport:this.props.canReport,canCreateTags:this.canCreateTags(),onToggleTagging:this.toggleTaggingMode,feedbackData:this.props.feedbackData,feedbackTarget:this.props.feedbackTarget,feedbackUpdatingParams:{isPhoto:!0,isPlayable:this.props.isPlayable,targetKey:this.props.feedbackTarget}},"ufi")};d.renderBasicImage=function(){var a=this;if(!this.props.imageSrc)return n.jsx("div",{});var c={};this.props.imageWidth&&(c.width=this.props.imageWidth);this.props.imageHeight&&(c.height=this.props.imageHeight);if(this.props.isPlayable&&this.props.playableURL)return n.jsx("video",{className:"_1_uo",style:c,src:this.props.playableURL,poster:this.props.imageSrc,controls:!0});var d=this.props.sphericalRendererProjectionType==="perspective",e={width:"100%",height:"100%"};return n.jsxs("div",{ref:function(b){return a.photoEl=b},onClick:this.handleImageClick,className:"_i81 _7buy",style:e,children:[n.jsx(b("Image.react"),{alt:this.props.accessibilityCaption,className:"_1_uo _7buz",style:c,src:this.props.imageSrc}),this.props.isSpherical?n.jsx("span",{className:d?"_4j4y":""}):null]})};d.renderImageWithWarningScreen=function(a){var c=this.renderImage();return n.jsx(n.Suspense,{fallback:c,children:n.jsx(b("MWarningScreen.react"),{contentID:this.props.photoID,data:a,storyRenderLocation:"album_feed",surface:"other_feed",warningScreenUIElement:"story_attachment_photo",children:c})})};d.renderGenericInformTreatment=function(a){return n.jsx(n.Suspense,{fallback:null,children:n.jsx(b("MGITCardLayout.react"),{layout:a})})};d.isSinglePhotoViewSupported=function(){return this.props.isPlayable||!this.photoEl||this.props.isSpherical||!this.cardEl||!this.bodyEl||!this.photoCloseButtonEl?!1:b("MSinglePhotoViewGating").shouldShowInSnowflake()};d.renderCloseButton=function(){var a=this;return n.jsx("div",{className:"_7bu-",ref:function(b){return a.photoCloseButtonEl=b},children:n.jsx(b("Image.react"),{src:i("794076")})})};d.componentDidMount=function(){var a=this;if(!this.isSinglePhotoViewSupported())return;var c=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.photoEl),d=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.cardEl),e=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.bodyEl),f=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.photoCloseButtonEl);if(!c&&!d&&!e&&!f)return!1;var g=b("MSinglePhotoViewGating").isSideSwipeEnabled();g=g?function(b){b=b?"next":"back";a.props.moveTo(b)}:null;this.photoViewSession=b("MSinglePhotoPopupViewController").initNativeView({rootClass:"_7bu_",element:c,enableAnimations:b("MSinglePhotoViewGating").shouldSupportAnimations(),closeOnSwipe:b("MSinglePhotoViewGating").shouldCloseOnSwipe(),onOpen:function(){a.deactivateTaggingMode(),a.props.onOpenSinglePhotoView&&a.props.onOpenSinglePhotoView()},cardElement:d,header:null,body:null,footer:e,commentsPreview:null,tagButton:null,closeButton:f,onSwipeTo:g})};d.componentDidUpdate=function(){this.photoViewSession&&this.photoViewSession.onImageElementUpdated(b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.photoEl))};d.componentWillUnmount=function(){this.photoViewSession&&(this.photoViewSession.release(),this.photoViewSession=null)};d.render=function(){var a=this,c=j!==void 0?j:j=b("MSnowflakePhotoCardWithGITQuery.graphql"),d=b("joinClasses")(this.props.className,"_26pa"+(this.state.taggingMode?" _i82":"")+" _55x2");return n.jsx(m,{environment:b("RelayFBEnvironment"),query:c,variables:{id:this.props.photoID,input:{id:this.props.photoID,location:"feed"}},render:function(c){c.error;c=c.props;if(c){var e=c.cix_screen,f=c.photo;c=c.video;f=(f=f==null?void 0:f.inform_treatment_layout)!=null?f:c==null?void 0:c.inform_treatment_layout;return n.jsxs(b("MXUICard.react"),{ref:function(b){return a.cardEl=b},background:b("FullBleedFeedQE").fullBleed?"white":null,className:d,"data-index":a.props.index,"data-testid":void 0,children:[a.renderCloseButton(),a.renderImageWithWarningScreen(e),a.renderGenericInformTreatment(f),a.renderBody()]})}return n.jsxs(b("MXUICard.react"),{ref:function(b){return a.cardEl=b},background:b("FullBleedFeedQE").fullBleed?"white":null,className:d,"data-index":a.props.index,"data-testid":void 0,children:[a.renderCloseButton(),a.renderImage(),a.renderBody()]})}})};return c}(n.Component);a.defaultProps={canEdit:!1,canDelete:!1,canCreateTags:!1,canDeleteTags:!1,initialTaggingMode:!1,onActivateTagging:b("emptyFunction"),freeformTagging:!0,moveTo:b("emptyFunction"),onOpenSinglePhotoView:b("emptyFunction")};e.exports=a}),null);
__d("PhotoImpressionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1828993");b=d("FalcoLoggerInternal").create("photo_impressions",a);e=b;g["default"]=e}),98);
__d("PhotosContentViewingSurfaces",[],(function(a,b,c,d,e,f){a=Object.freeze({SNOWFLAKE:"snowflake",FULL_SCREEN_GALLERY:"full_screen_gallery",PERMALINK:"permalink",TAB_VIEW:"tab_view"});f["default"]=a}),66);
__d("MSnowflakePhotoImpressionLogger",["PhotoImpressionsFalcoEvent","PhotosContentViewingSurfaces"],(function(a,b,c,d,e,f,g){a={logPhotoViewed:function(a){var b,d={action:a.actionType,logtype:a.logType,content_id:a.photo.id,owner_id:a.photo.owner.id,referrer:(b=a.referrer)==null?void 0:b.referrer,referrer_id:(b=a.referrer)==null?void 0:b.referrer_id,referrer_type:(b=a.referrer)==null?void 0:b.referrer_type,viewing_surface:c("PhotosContentViewingSurfaces").SNOWFLAKE};c("PhotoImpressionsFalcoEvent").log(function(){return d})}};b=a;g["default"]=b}),98);
__d("MSnowflakeStoryHeaderCard.react",["cx","BootloadedComponent.react","FullBleedFeedQE","Image.react","JSResource","MEntityLink.react","MSnowflakeHeaderMetaData.react","MSnowflakeTextWithEntities.react","MSnowflakeUFI.react","MTimestamp.react","MXUICard.react","MXUIDiv.react","areEqual","react"],(function(a,b,c,d,e,f,g){var h,i,j=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return!(i||(i=b("areEqual")))(this.props,a)};d.renderMessage=function(){return!this.props.message?null:j.jsx(b("MXUIDiv.react"),{className:"_26p9",children:this.props.textFormatMetadata?j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("div",{}),bootloadLoader:b("JSResource")("MessageTextWithFormatting.react").__setRef("MSnowflakeStoryHeaderCard.react"),message:this.props.message,textFormatMetadata:this.props.textFormatMetadata}):j.jsx(b("MSnowflakeTextWithEntities.react"),{text:this.props.message})})};d.renderMetaData=function(){return j.jsx(b("MSnowflakeHeaderMetaData.react"),{mediaCount:this.props.mediaCount})};d.renderUFI=function(){return!this.props.ufi?null:j.jsx(b("MSnowflakeUFI.react"),{isAlbum:this.props.isAlbumStory,editURL:this.props.editURL,ufi:this.props.ufi,feedbackTarget:this.props.feedbackTarget,isShareable:this.props.isShareable,feedbackData:this.props.feedback,initialIsCollapsed:this.props.initialIsUFICollapsed,feedbackUpdatingParams:{isPhotoSetStory:!0,targetKey:this.props.setToken}})};d.renderStoryHeader=function(){return j.jsxs(b("MXUIDiv.react"),{className:"_3v9e",children:[this.renderProfilePic(),j.jsxs(b("MXUIDiv.react"),{className:"_3v9f",children:[this.renderStoryTitle(),this.renderStoryMetaData()]})]})};d.renderTimestamp=function(){return j.jsx(b("MTimestamp.react"),{timestamp:this.props.creationTime})};d.renderPrivacyScope=function(){return!this.props.privacyScope?null:j.jsx(b("Image.react"),{className:"_3v9g",src:this.props.privacyScope.icon_image.uri,alt:this.props.privacyScope.label})};d.renderStoryMetaData=function(){return j.jsxs(b("MXUIDiv.react"),{className:"_3v9h",children:[this.renderTimestamp(),this.renderPrivacyScope()]})};d.renderStoryTitle=function(){var a=this.props.title;return!a?this.renderMainActor():j.jsx(b("MXUIDiv.react"),{children:j.jsx(b("MSnowflakeTextWithEntities.react"),{text:a})})};d.renderMainActor=function(){var a=this.getMainActor();return j.jsx(b("MXUIDiv.react"),{className:"_3kz9",children:j.jsx(b("MEntityLink.react"),{entity:a,children:a.name})})};d.getMainActor=function(){var a=this.props.actors;return a&&a[0]||{}};d.renderProfilePic=function(){var a=this.getMainActor().profile_picture;return!a?null:j.jsx(b("Image.react"),{className:"_3v9i",src:a.uri})};d.render=function(){return b("FullBleedFeedQE").fullBleed?j.jsx(b("MXUIDiv.react"),{className:"_189t",children:j.jsxs(b("MXUIDiv.react"),{background:"white",className:"_55x2 _4zvh","data-testid":void 0,children:[j.jsxs(b("MXUIDiv.react"),{className:"_tmc",children:[this.renderStoryHeader(),this.renderMessage(),this.renderMetaData()]}),this.renderUFI()]})}):j.jsx(b("MXUIDiv.react"),{className:"_189t",children:j.jsxs(b("MXUICard.react"),{className:"_4zvh","data-testid":void 0,children:[j.jsxs(b("MXUIDiv.react"),{className:"_tmc",children:[this.renderStoryHeader(),this.renderMessage(),this.renderMetaData()]}),this.renderUFI()]})})};return c}(j.Component);a.propTypes={};e.exports=a}),null);
__d("MSnowflakeJSConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({INIT_PATH:"/photos/snowflake/init/",PAGE_PATH:"/photos/snowflake/page/",VIEWER_INIT_BATCH_SIZE:6,VIEWER_PAGE_BATCH_SIZE:10});f["default"]=a}),66);
__d("ScrollablePhotoViewStateCore",["SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a.photoStore,this.$2=a.viewer,this.$3=a.setToken,this.$4=a.updateCallback,this.$5=a.subscribeUpdatePhotos,this.$6=a.fetchInitData,this.$7=a.initBatchSize,this.$8=a.pageBatchSize,this.$9=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.initViewState=function(){this.$9.addSubscriptions(this.$5(this.updateData.bind(this)));if(this.$1.hasBeenCreated(this.$3)){var a=this.$1.getAvailableRange(this.$3).length;(a>=this.$7||!this.$1.hasNextPage(this.$3))&&this.syncState();return}this.$6(this.$3)};c.hasNextPage=function(){return this.$1.hasBeenCreated(this.$3)&&this.$1.hasNextPage(this.$3)};c.fetchToIndex=function(a){var c=this.$1.getEndIndex(this.$3);a=a-c;if(a<=0)return;this.$1.getItemsAfterIndex(this.$3,c,a,b("emptyFunction"))};c.fetchMore=function(a){if(!this.hasNextPage())return;this.$1.getItemsAfterIndex(this.$3,this.$1.getEndIndex(this.$3),this.$8,a||b("emptyFunction"))};c.destroy=function(){this.$9.release()};c.updateData=function(a){var b=this;if(a.set_id!=this.$3)return;a=a.query_results&&a.query_results.result_type;a=="init"?this.$1.executePostCreate(this.$3,function(){b.syncState()}):this.syncState()};return a}();e.exports=a}),null);
__d("MSnowflakeStoryViewState",["MLinkTracking","MPhotoSetStore","MPhotoStore","MRequest","MSnowflakeJSConstants","ScrollablePhotoViewStateCore","Stratcom","warning"],(function(a,b,c,d,e,f){function g(a){return b("Stratcom").listen("m:photostore:afterupdate",null,function(b){a(b.getData())})}function h(a){var c=a.storyIdentifier,d=a.trackingData;a=a.permalink;var e={};c&&(e.ei=c);a&&(e.permalink=a);return function(a){a=new(b("MRequest"))(b("MSnowflakeJSConstants").INIT_PATH).setData(babelHelpers["extends"]({},e,{set:a}));d&&b("MLinkTracking").addFeedTrackingDataToRequest(a,d);return a.send()}}var i=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(a){var d=a.setToken,e=a.storyIdentifier,f=a.permalink,i=a.trackingData;a=a.updateCallback;e=c.call(this,{photoStore:b("MPhotoStore"),setToken:d,updateCallback:a,subscribeUpdatePhotos:g,fetchInitData:h({storyIdentifier:e,trackingData:i,permalink:f}),initBatchSize:b("MSnowflakeJSConstants").VIEWER_INIT_BATCH_SIZE,pageBatchSize:b("MSnowflakeJSConstants").VIEWER_PAGE_BATCH_SIZE})||this;e.$MSnowflakeStoryViewState1=!1;e.$MSnowflakeStoryViewState2=a;e.$MSnowflakeStoryViewState3=d;return e}var d=a.prototype;d.destroy=function(){c.prototype.destroy.call(this),this.$MSnowflakeStoryViewState1=!0,this.$MSnowflakeStoryViewState2=null};d.syncState=function(){var a=this;if(this.$MSnowflakeStoryViewState1){b("warning")(!1,"MSnowflakeStoryViewState.syncState(): Must not call `syncState()` after having called `destroy()` on this instance of `MSnowflakeStoryViewState` with set token `%s`.",this.$MSnowflakeStoryViewState3);return}b("MPhotoSetStore").getBySetToken(this.$MSnowflakeStoryViewState3,function(b){return a.$MSnowflakeStoryViewState2({photoSet:b})});var c=b("MPhotoStore").getItemsInAvailableRange(this.$MSnowflakeStoryViewState3);this.$MSnowflakeStoryViewState2({media:c,hasNextPage:b("MPhotoStore").hasNextPage(this.$MSnowflakeStoryViewState3)})};a.syncAllPhotoViewStates=function(){var a=b("MPhotoSetStore").getLoadedPhotoSetTokens();a.forEach(function(a){b("Stratcom").invoke("m:photostore:afterupdate",null,{set_id:a})})};return a}(b("ScrollablePhotoViewStateCore"));b("Stratcom").listen("m:snowflakeviewstates:sync",null,function(){return i.syncAllPhotoViewStates()});e.exports=i}),null);
__d("PhotosLogType",[],(function(a,b,c,d,e,f){a=Object.freeze({NAVIGATION:"navigation",VPV:"vpv",TIMETRACKING:"timetracking"});f["default"]=a}),66);
__d("MSnowflakeViewportTracking",["csx","MViewport","MViewportTracking","PhotosLogType","ReactDOMLegacy_DEPRECATED","Vector","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataFromConfig=function(a){this.$MSnowflakeViewportTracking1=a.snowflakeComponent,this.$MSnowflakeViewportTracking2=a.recordDelay,this.$MSnowflakeViewportTracking3=a.loggingFunction||b("emptyFunction")};d.getFBFeedLocation=function(){return 5};d.getAllStories=function(){if(this.$MSnowflakeViewportTracking1.isMounted()){var a=b("ReactDOMLegacy_DEPRECATED").findDOMNode(this.$MSnowflakeViewportTracking1).querySelectorAll("._26pa");return a}return[]};d.getTimeout=function(){return this.$MSnowflakeViewportTracking2};d.getStoryID=function(a){return a.getAttribute("data-index")};d.getDataToLog=function(a){return{logtype:b("PhotosLogType").VPV,index:this.getStoryID(a),tracking:{story_height:b("Vector").getElementDimensions(a).y,viewport_height:b("MViewport").getHeight()}}};d.getMinSizeToBeVisible=function(a){a=a.querySelector("._1_uo");a=b("Vector").getElementDimensions(a).y;return a*.5};d.sendDataToLog=function(a){a&&a.index&&this.$MSnowflakeViewportTracking3(a)};return c}(b("MViewportTracking"));e.exports=a}),null);
__d("MSnowflake.react",["cx","fbt","DOM","FullBleedFeedQE","MLinkTracking","MLoadingSpinner.react","MRequest","MSinglePhotoViewGating","MSnowflakeAlbumHeaderCard.react","MSnowflakePagerCard.react","MSnowflakePhotoCard.react","MSnowflakePhotoImpressionLogger","MSnowflakeSettings","MSnowflakeStoryHeaderCard.react","MSnowflakeStoryViewState","MSnowflakeViewportTracking","MXUIDiv.react","MeasuredComponent.react","ReactDOMLegacy_DEPRECATED","URI","emptyFunction","getActorFirstName","react","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||b("react"),l=100;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={didRequestPhoto:!1,didScroll:!1,media:d.props.media||[],moveDirection:"none",openSinglePhotoView:[]},d.$1=!1,d.setupFeedtracking=function(){d.feedtrackingListener=b("DOM").listen(b("ReactDOMLegacy_DEPRECATED").findDOMNode(babelHelpers.assertThisInitialized(d)),"touchstart","tag:a",function(a){a=a.getNode("tag:a");a&&b("MLinkTracking").addFeedTrackingDataToHref(a)})},d.$2=function(a){d.$1&&d.setState(a)},d.$3=function(){var a=d.props.scrollTargetIndex;a!=null&&d.viewState.fetchToIndex(a);d.setState({didRequestPhoto:!0})},d.scrollToTargetPhoto=function(){var a=!1;d.refs.scrollTarget&&(d.setState({didScroll:!0}),b("ReactDOMLegacy_DEPRECATED").findDOMNode(d.refs.scrollTarget).scrollIntoView(!0),a=!0);Object.prototype.hasOwnProperty.call(d,"scrollTargetIndex")&&b("MSnowflakePhotoImpressionLogger").logPhotoViewed({photo:d.state.media[d.scrollTargetIndex],actionType:"click",logType:"navigation",referrer:d.props.referrer});return a},d.switchCurrentTaggingModeCard=function(a){var b=d.state.currentTaggingModeCard;b&&b!==a&&b.deactivateTaggingMode();d.setState({currentTaggingModeCard:a})},d.buildTagURI=function(a,c,e,f){return new(j||(j=b("URI")))("/a/photos/tag/").addQueryData({photo_fbid:a,"ids[0]":c,"x[0]":e,"y[0]":f,is_snowflake:!0,sd_source:d.props.source,sd_set:d.props.setToken})},d.buildDeleteTagURI=function(a){return new(j||(j=b("URI")))("/a/photo/").addQueryData({fbid:a,snowflake_tag_remove:!0})},d.sendTagRequest=function(a,c){new(b("MRequest"))(d.buildTagURI(a,c.tagUserID,c.x,c.y).toString()).send()},d.sendDeleteTagRequest=function(a,c){new(b("MRequest"))(d.buildDeleteTagURI(a).toString()).setData({rtid:c.tagUserID}).send()},d.moveTo=function(a,b){b=b==="next"||b==="continue"&&d.state.moveDirection==="next";var c=b?a+1:a-1,e=[];e[a]=!1;a="none";c<d.state.media.length&&c>=0&&(e[c]=!0,a=b?"next":"back");d.setState({moveDirection:a,openSinglePhotoView:e})},d.onOpenSinglePhotoView=function(){if(!b("MSinglePhotoViewGating").shouldPullNextBatchInBackground())return;if(!d.state.hasNextPage)return;d.viewState.fetchToIndex(l)},d.canRenderPhotos=function(){return d.state.media.length&&d.state.photoSet},d.renderPhotos=function(){if(!d.canRenderPhotos())return k.jsx(b("MXUIDiv.react"),{padding:"large",textalign:"center",children:k.jsx(b("MLoadingSpinner.react"),{})});var a=20;b("FullBleedFeedQE").fullBleed&&(a=0);return d.state.media.map(function(c,e){var f=d.props.scrollToPhoto===c.id;f&&(d.scrollTargetIndex=e);return k.jsx(b("MSnowflakePhotoCard.react"),{accessibilityCaption:c.accessibility_caption,index:e,ref:f?"scrollTarget":null,imageSrc:c.image.uri,photoID:c.id,canEdit:c.can_viewer_edit,canDelete:c.can_viewer_delete,message:c.message,imageWidth:d.state.viewportWidth-a,imageHeight:(d.state.viewportWidth-a)/c.ratio,feedbackData:c.feedback,feedbackTarget:c.id.toString(),canReport:c.can_viewer_report,canCreateTags:c.can_viewer_add_tags,canDeleteTags:c.can_viewer_untag,onActivateTagging:d.switchCurrentTaggingModeCard,typeaheadConfig:d.state.photoSet.taggingTypeaheadConfig,typeaheadSuggestions:d.state.photoSet.taggingTypeaheadSuggestions,initialFaceboxes:c.faceboxes,initialIsUFICollapsed:!1,onTagAdd:d.sendTagRequest.bind(babelHelpers.assertThisInitialized(d),c.id),onTagDelete:d.sendDeleteTagRequest.bind(babelHelpers.assertThisInitialized(d),c.id),initialTags:c.tags,initialTaggingMode:d.props.initialTaggingMode,ufi:c.ufi,isSpherical:c.is_spherical,sphericalRendererProjectionType:c.spherical_renderer_projection_type,isPlayable:c.is_playable,playableURL:c.playable_url,playableURLHD:c.playable_url_hd,moveTo:d.moveTo.bind(babelHelpers.assertThisInitialized(d),e),openSinglePhotoView:d.state.openSinglePhotoView[e],onOpenSinglePhotoView:d.onOpenSinglePhotoView},"photo_"+c.id)})},d.getTitle=function(){if(d.state.photoSet){if(!d.getOwner()&&d.state.photoSet.title)return d.state.photoSet.title;if(d.isAlbum())return h._("{name}'s album",[h._param("name",d.getOwnerName())]);else return h._("{name}'s post",[h._param("name",d.getOwnerName())])}},d.isAlbum=function(){return d.state.photoSet&&d.state.photoSet.titleCardStyle==="album"},d.getOwner=function(){if(d.state.photoSet.contributors)return d.state.photoSet.contributors[0];return d.state.photoSet.story?d.state.photoSet.story.actors[0]:null},d.getOwnerName=function(){var a=d.getOwner()||{name:h._("Unknown")},c=a.structured_name;if(c)return b("getActorFirstName")(c);else return a.name},d.isHeaderUFICollapsed=function(){return!1},d.renderHeader=function(){if(!d.state.photoSet)return null;var a=d.state.photoSet.message;!a&&d.state.photoSet.story&&(a=d.state.photoSet.story.message);if(d.isAlbum()){var c=d.state.photoSet.story&&d.state.photoSet.story.privacy_scope,e=d.state.photoSet.feedbackTarget&&d.state.photoSet.feedbackTarget.toString();return k.jsx(b("MSnowflakeAlbumHeaderCard.react"),{title:d.state.photoSet.title,contributors:d.state.photoSet.contributors,owner:d.state.photoSet.owner,modifiedTime:d.state.photoSet.modifiedTime,mediaCount:d.state.photoSet.mediaCount,message:a,privacyScope:c,feedback:d.state.photoSet.feedback,feedbackTarget:e,initialIsUFICollapsed:d.isHeaderUFICollapsed(),ufi:d.state.photoSet.ufi,followButton:d.props.followButton,coverPhotoSrc:d.props.coverPhotoSrc,showNewPermalink:d.props.showNewPermalink,reportAlbumBtn:d.props.reportAlbumBtn})}else if(d.state.photoSet.story){c=d.state.photoSet.story;return k.jsx(b("MSnowflakeStoryHeaderCard.react"),{title:c.title,actors:c.actors,isAlbumStory:d.state.photoSet.editURL!=null,editURL:d.state.photoSet.editURL,modifiedTime:d.state.photoSet.modifiedTime,mediaCount:d.state.photoSet.mediaCount,isShareable:!!c.shareable,creationTime:c.creation_time,privacyScope:c.privacy_scope,message:a,textFormatMetadata:c.text_format_metadata,feedback:d.state.photoSet.feedback||c.feedback,feedbackTarget:e,setToken:d.props.setToken,ufi:d.state.photoSet.ufi,initialIsUFICollapsed:d.isHeaderUFICollapsed()})}return null},d.renderPager=function(){return!d.state.hasNextPage?null:k.jsx(b("MSnowflakePagerCard.react"),{onFetchMore:function(){return d.viewState.fetchMore()}})},d.onClientMeasured=function(a){d.$1&&d.setState({viewportWidth:a.width})},d.getFeedtrackingOwnerID=function(){return d.props.feedtrackingID},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;this.viewState=new(b("MSnowflakeStoryViewState"))({setToken:this.props.setToken,storyIdentifier:this.props.storyIdentifier,trackingData:b("MLinkTracking").getFeedTrackingData(b("ReactDOMLegacy_DEPRECATED").findDOMNode(this)),permalink:this.props.isPermalink,updateCallback:this.$2});b("requestAnimationFrame")(function(){if(!a.$1)return;a.viewState.initViewState();b("MSnowflakeSettings").VPV_LOGGING_GK&&(a.viewportTracking=new(b("MSnowflakeViewportTracking"))(),a.viewportTracking.init({loggingFunction:function(c){return b("MSnowflakePhotoImpressionLogger").logPhotoViewed({actionType:"scroll",photo:a.state.media[c.index],logType:c.logtype,referrer:a.props.referrer})},recordDelay:1e3,snowflakeComponent:a,vpvd_logging:b("MSnowflakeSettings").vpvd_logging}))});this.setupFeedtracking()};d.componentWillUnmount=function(){this.$1=!1,this.viewState.destroy(),delete this.viewState,this.viewportTracking&&this.viewportTracking.cleanup(),this.feedtrackingListener.remove()};d.componentDidUpdate=function(a,b){if(!this.state.didScroll&&this.canRenderPhotos()){a=this.scrollToTargetPhoto();!a&&!this.state.didRequestPhoto&&this.$3()}this.state.photoSet!=b.photoSet&&this.props.onPhotoSetDataAvailable()};d.render=function(){var a=["context-layer-root","dialog-ignore-subtree-links","snowflake-root"].join(" "),c=this.renderHeader();this.props.showAlbumFeed||(c=k.jsxs(b("MXUIDiv.react"),{children:[this.renderHeader(),this.renderPhotos(),this.renderPager()]}));return k.jsx(b("MeasuredComponent.react"),{onMeasure:this.onClientMeasured,children:k.jsx("div",{"data-ownerid":this.getFeedtrackingOwnerID(),"data-sigil":a,"data-testid":void 0,className:"_4vuj"+(b("FullBleedFeedQE").fullBleed?" _gjp":""),children:c})})};return c}(k.Component);a.defaultProps={onPhotoSetDataAvailable:b("emptyFunction"),initialTaggingMode:!1};e.exports=a}),null);
__d("MSnowflakeModalDialog",["MModalDialog","MSnowflake.react","ReactDOMLegacy_DEPRECATED","ScriptPath","Stratcom","SubscriptionsHandler","react"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i=null,j=new(b("SubscriptionsHandler"))();e.exports={bootstrap:function(a,c){a.onPhotoSetDataAvailable=function(){b("MModalDialog").setTitle(i.getTitle())};if(!i){var d=b("ScriptPath").getPageInfo()||{};b("ScriptPath").set("snowflake","");j.engage();j.addSubscriptions(b("Stratcom").listen("m:modal-dialog:will-close",null,function(){j.release(),b("ReactDOMLegacy_DEPRECATED").unmountComponentAtNode(b("ReactDOMLegacy_DEPRECATED").findDOMNode(i).parentNode),i=null,b("ScriptPath").set(d.scriptPath,"",d.extraData)}))}else a.scrollToPhoto=null;i=b("ReactDOMLegacy_DEPRECATED").render(h.jsx(b("MSnowflake.react"),babelHelpers["extends"]({},a)),c,"MSnowflakeModalDialog.js")}}}),null);
__d("GraphQLQuery_DEPRECATED",["createObjectFrom"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}var b=a.prototype;b.addField=function(a){this.fieldSet?this.fieldSet.fields.push(a):this.fieldSet=new g.FieldSet([a])};b.addFields=function(a){a.forEach(this.addField,this)};return a}();var g=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this)||this;d.rootCall=a;d.fieldSet=c;return d}var c=a.prototype;c.toString=function(){return(this.rootCall||"")+(this.fieldSet||"")};return a}(a);g.Call=function(){"use strict";function a(a,b){this.name=a,this.args=b||[]}var b=a.prototype;b.toString=function(){return this.name+"("+this.args.join(",")+")"};return a}();g.CallValue=function(){"use strict";function a(a){this.callValue=a}var b=a.prototype;b.toString=function(){return this.callValue.replace(/[)(}{><,.\\]/g,"\\$&")};return a}();g.CallVariable=function(){"use strict";function a(a){this.callVariableName=a}var b=a.prototype;b.toString=function(){return"<"+this.callVariableName+">"};return a}();g.Field=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,g,h,b){var i;i=a.call(this)||this;i.name=g||c;i.fieldName=c;i.calls=d||[];i.fieldSet=e;i.alias=g;i.condition=h;i.exports=b||[];return i}var d=c.prototype;d.toString=function(){var a="";this.condition&&(a+=this.condition+"?");a+=this.fieldName;this.calls.length!==0&&(a+="."+this.calls.join("."));this.alias&&(a+=" as "+this.alias);this.exports.length!==0&&(a+=" exports ",a+=this.exports.length===1?this.exports[0]:"("+this.exports.join(",")+")");this.fieldSet&&(a+=this.fieldSet);return a};d.addCall=function(a){this.calls.push(a)};d.removeCalls=function(a){a=b("createObjectFrom")(a);var c=[];for(var d=0;d<this.calls.length;d++)a[this.calls[d].name]||c.push(this.calls[d]);this.calls=c};return c}(a);g.FieldSet=function(){"use strict";function a(a){this.fields=a||[]}var b=a.prototype;b.getFields=function(){var a=[];for(var b=0;b<this.fields.length;b++)this.fields[b]instanceof g.Field&&a.push(this.fields[b]);return a};b.getFragmentReferences=function(){var a=[];for(var b=0;b<this.fields.length;b++)this.fields[b]instanceof g.FragmentReference&&a.push(this.fields[b]);return a};b.toString=function(){return"{"+this.fields.join(",")+"}"};return a}();g.FragmentReference=function(){"use strict";function a(b,c,a){this.name=b,this.is_conditional=c,this.exports=a||[]}var b=a.prototype;b.toString=function(){var a="@"+this.name;this.is_conditional&&(a="?"+a);this.exports.length!==0&&(a+=" exports ",a+=this.exports.length===1?this.exports[0]:"("+this.exports.join(",")+")");return a};return a}();e.exports=g}),null);
__d("GraphQLParser_DEPRECATED",["GraphQLQuery_DEPRECATED"],(function(a,b,c,d,e,f){var g=function(){"use strict";function a(a){this.queryString=a,this.queryLength=a.length,this.index=-1,this.character=null,this.next()}var c=a.prototype;c.error=function(b){throw new a.SyntaxError(this.queryString,this.index,b)};c.next=function(a){a&&a!==this.character&&this.error('Expected "'+a+'" instead of "'+this.character+'".'),this.index++,this.index>this.queryLength?this.error("Expected another character, but at end of string."):this.character=this.index===this.queryLength?null:this.queryString[this.index]};c.end=function(){this.character&&this.error("Expected end of string instead of "+this.character+".")};c.whitespace=function(){while(this.character===" "||this.character==="\t"||this.character==="\r"||this.character==="\n")this.next()};c.mandatoryWhitespace=function(){var a=this.index;this.whitespace();this.index===a&&this.error("Expected whitespace, got "+this.character+".")};c.keyword=function(a){for(var b=0;b<a.length;b++)this.next(a[b])};c.query=function(a){var c=null;a&&(c=new(b("GraphQLQuery_DEPRECATED").Call)(this.name(),this.callArguments()),this.whitespace());a=null;this.character==="{"&&(a=this.fieldSet());return new(b("GraphQLQuery_DEPRECATED"))(c,a)};c.name=function(){var a=this.index;this.character===":"&&this.error("Name cannot begin with :");while(i(this.character))this.next();this.index===a&&this.error("Expected name.");return this.queryString.substr(a,this.index-a)};c.fieldSet=function(){var a=[];this.next("{");this.whitespace();a.push(this.field());this.whitespace();while(this.character===",")this.next(","),this.whitespace(),a.push(this.field()),this.whitespace();this.next("}");return new(b("GraphQLQuery_DEPRECATED").FieldSet)(a)};c.exports=function(){var a;if(this.character==="("){this.next("(");while(!0){this.whitespace();a=a||[];a.push(this.name());if(this.character===",")this.next(",");else break}this.whitespace();this.next(")")}else a=[this.name()];return a};c.field=function(){var a;if(this.character==="@"||this.character==="?"){var c=!1;this.character==="?"&&(this.next("?"),c=!0);this.next("@");var d=this.name();this.whitespace();this.character==="e"&&(this.keyword("exports"),this.mandatoryWhitespace(),a=this.exports());return new(b("GraphQLQuery_DEPRECATED").FragmentReference)(d,c,a)}var e;d=this.name();this.whitespace();this.character==="?"?(this.next("?"),this.whitespace(),c=this.name(),e=d):c=d;this.whitespace();d=this.calls();var g;this.character==="a"&&(this.next("a"),this.next("s"),this.whitespace(),g=this.name(),this.whitespace());this.character==="e"&&(this.keyword("exports"),this.mandatoryWhitespace(),a=[this.name()],this.whitespace());this.whitespace();var h;this.character==="{"&&(h=this.fieldSet());return new(b("GraphQLQuery_DEPRECATED").Field)(c,d,h,g,e,a)};c.calls=function(){var a=[];while(this.character===".")this.next("."),this.whitespace(),a.push(new(b("GraphQLQuery_DEPRECATED").Call)(this.name(),this.callArguments())),this.whitespace();return a};c.callArguments=function(){this.next("(");this.whitespace();var a=[];if(this.character!==")"){a.push(this.callArgument());while(this.character===",")this.next(","),this.whitespace(),a.push(this.callArgument())}this.next(")");return a};c.callArgument=function(){return this.character==="<"?this.callVariable():this.callValue()};c.callVariable=function(){this.next("<");var a=this.name();this.next(">");return new(b("GraphQLQuery_DEPRECATED").CallVariable)(a)};c.callValue=function(){var a=this.index,c=!1;while(j(this.character))this.character==="\\"&&(this.next(),c=!0),this.next();this.index===a&&this.error("Expected call value.");var d=this.index-a;a=this.queryString.substr(a,d);a=a.replace(/\s+$/,"");if(c)for(c=0;c<d;++c)a[c]==="\\"&&(a=a.substr(0,c)+a.substr(c+1),--d);return new(b("GraphQLQuery_DEPRECATED").CallValue)(a)};return a}();g.SyntaxError=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e,f='Syntax error "'+d+'" at character '+c+' near "'+h(b,c)+'" in query: '+b;e=a.call(this,f)||this;e.queryString=b;e.character=c;e.parserError=d;e.message=f;return e}return b}(babelHelpers.wrapNativeSuper(Error));function h(a,b){return a.substr(0,b+1).replace(/\s+/g," ").substr(-10)+"\u20dd"+a.substr(b+1).replace(/\s+/g," ").substr(0,10)}function i(a){return a===null?!1:a==="_"||a===":"||a==="-"||a>="0"&&a<="9"||a>="A"&&a<="Z"||a>="a"&&a<="z"}function j(a){return a===null?!1:a!="("&&a!=")"&&a!="{"&&a!="}"&&a!="<"&&a!=">"&&a!="."&&a!=","}g.parseQuery=function(a){a=new g(a);a.whitespace();var b=a.query(!0);a.whitespace();a.end();return b};g.parseRootlessQuery=function(a){a=new g(a);a.whitespace();var b=a.query(!1);a.whitespace();a.end();return b};e.exports=g}),null);
__d("firstx",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}h(0,1145)}g["default"]=a}),98);
__d("PagedQuery",["GraphQLParser_DEPRECATED","GraphQLQuery_DEPRECATED","firstx","isEmpty"],(function(a,b,c,d,e,f){var g,h=function(){"use strict";function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.$3=function(){var a=this.findFieldByPath(this.$1);a.removeCalls(["find","after","before","first","last"]);return a};c.$4=function(a,c,d){var e=this.$3(),f=d?"after":"before";e.addCall(new(b("GraphQLQuery_DEPRECATED").Call)(f,[a]));f=d?"first":"last";e.addCall(new(b("GraphQLQuery_DEPRECATED").Call)(f,[c]));return this.$1.toString()};c.$5=function(a){a=this.$2[a];return typeof a==="object"&&!(g||(g=b("isEmpty")))(a)?b("firstx")(Object.keys(a)):null};c.$6=function(a){var b=this.$5(a);return b?b:this.$2[a]};c.$7=function(a){var b=this.$5(a);return b?this.$2[a][b]:this.$2[a]};c.pageAfterQueryString=function(a,b){return this.$4(a,b,!0)};c.pageBeforeQueryString=function(a,b){return this.$4(a,b,!1)};c.pageFirstQueryString=function(a){var c=this.$3();c.addCall(new(b("GraphQLQuery_DEPRECATED").Call)("first",[a]));return this.$1.toString()};c.pageLastQueryString=function(a){var c=this.$3();c.addCall(new(b("GraphQLQuery_DEPRECATED").Call)("last",[a]));return this.$1.toString()};c.findFieldByPath=function(a){var b=a,c=this.$6(0);if(a.rootCall.name!=c)throw new Error("Query path does not match root query at top node, expected "+c+", found "+a.name+" instead.");for(c=1;c<this.$2.length;c++){a=b.fieldSet.fields;var d=!1,e=this.$6(c);for(var f=0;f<a.length;f++)if(a[f].fieldName==e){b=a[f];d=!0;break}if(!d)throw new Error("Query path does not match query structure at location "+c+", expected "+e+", not located in "+a)}return b};c.findDataByPath=function(a){a=a;for(var b=0;b<this.$2.length;b++){var c=this.$7(b);if(!a||!a[c])throw new Error("Query path does not match payload at location "+b+", expected "+c);a=a[c]}return a};return a}();h.constructFromPath=function(a,c){return new h(b("GraphQLParser_DEPRECATED").parseQuery(a),c)};e.exports=h}),null);
__d("PagedQueryCache",["GraphQLParser_DEPRECATED","KeyedCallbackManager","emptyFunction"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c,d,e){a=a.bind(this);this.$1=this.$1.bind(this,a);this.$2=c;this.$3=babelHelpers["extends"]({enableLooping:!1},e);a=this.$2.findDataByPath(d);c=a.edges;this.$4=babelHelpers["extends"]({},a.page_info,{start_cursor:c[0].cursor,end_cursor:c[c.length-1].cursor});this.$5=new(b("KeyedCallbackManager"))();this.$6={};this.$7={};this.$8={};this.$9=0;this.$10=0;this.$11={};this.$12(c,0);this.$3.allDataLoaded&&this.$13()}var c=a.prototype;c.$1=function(a,c,d,e,f,g,h){var i=b("GraphQLParser_DEPRECATED").parseQuery(c);i=d.findFieldByPath(i);var j={};for(var k=0;k<i.calls.length;k++){var l=i.calls[k];l.args.length>0&&(j[l.name]=l.args[0].callValue)}Object.assign(j,g);a(c,d,e,f,j,h)};c.$12=function(a,b){var c={},d=!1;for(var e=0;e<a.length;e++){if(this.hasLooped())break;var f=b+e,g=a[e].cursor,h=a[e].node,i=this.$6[g];if(this.$3.enableLooping&&i!==void 0){d=!0;continue}i=this.$5.getResource(f);if(i!==void 0&&i!=g)throw new Error("Attempting to add cursor "+g+" at location "+f+" which already contains cursor "+i);this.$8[h.id]=g;this.$7[g]=h;c[f]=g;this.$6[g]=f;this.$9=Math.min(f,this.$9);this.$10=Math.max(f,this.$10)}d&&this.$13();this.$5.addResourcesAndExecute(c)};c.getItemsAfterCursor=function(a,b,c){this.$14(a,b,!0,c)};c.getItemsBeforeCursor=function(a,b,c){this.$14(a,b,!1,c)};c.$15=function(a){if(!this.hasLooped())return a;var b=this.$16.end-this.$16.start+1;while(a<this.$16.start||a>this.$16.end)a<this.$16.start?a+=b:a-=b;return a};c.$14=function(a,b,c,d){var e=this,f=this.$17(a);c||(f=f-b-1);var g=[];for(var h=1;h<=b;h++)g.push(this.$15(f+h));h=this.$5.getUnavailableResourcesFromRequest(g);if(h.length){h=this.$18(h);if(!h.length)return;c?this.$3.enableLooping&&!this.hasNextPage(a)?f=this.$2.pageFirstQueryString(b):f=this.$2.pageAfterQueryString(a,b):this.$3.enableLooping&&!this.hasPreviousPage(a)?f=this.$2.pageLastQueryString(b):f=this.$2.pageBeforeQueryString(a,b);for(a=0;a<h.length;++a)this.$11[h[a]]=!0;this.$19&&this.$19();this.$1(f,this.$2,h,c?this.$3.first_query:this.$3.last_query,this.$3.persistent_params,this.$20.bind(this))}var i=function(a){var c=[];for(var d=0;d<b;d++)c.push(e.$7[a[g[d]]]);return c};this.$5.executeOrEnqueue(g,function(a){d(i(a))})};c.$20=function(){this.$21.apply(this,arguments)};c.$17=function(a){a=this.$6[a];if(a===void 0)throw new Error("Cursor not found: the request can still be made but the result would not link to the existing data");return a};c.setPayloadCallback=function(a){this.$21=a};c.updateData=function(a){a=this.$2.findDataByPath(a.query_results);a=a&&a.edges;if(!a)return;for(var b=0;b<a.length;++b){var c=a[b].cursor,d=a[b].node;this.$7[c]===void 0&&(this.$7[c]={});for(var e in d)this.$7[c][e]=d[e]}};c.addData=function(a){var c=!1,d=null,e=0;for(var f in a.query_params)(f=="after"||f=="before")&&(d=a.query_params[f]),(f=="first"||f=="last")&&(c=f=="first",e=a.query_params[f]);this.$3.enableLooping&&!d&&(d=c?this.$4.end_cursor:this.$4.start_cursor);if(!d||this.$6[d]===void 0)return;f=this.$6[d];var g=this.$2.findDataByPath(a.query_results);if(!g.edges.length){this.$22(a.requested_indices);c?(this.$4.has_next_page=!1,this.$3.enableLooping&&this.getItemsAfterCursor(d,e,b("emptyFunction"))):(this.$4.has_previous_page=!1,this.$3.enableLooping&&this.getItemsBeforeCursor(d,e,b("emptyFunction")));return}c?(d=f+1,this.$4.end_cursor=g.edges[g.edges.length-1].cursor,this.$4.has_next_page=g.page_info.has_next_page):(d=f-g.edges.length,this.$4.start_cursor=g.edges[0].cursor,this.$4.has_previous_page=g.page_info.has_previous_page);this.$12(g.edges,d);this.$22(a.requested_indices)};c.hasNextPage=function(a){var b=this.$17(a);if(this.$5.getResource(b+1))return!0;else if(a==this.$4.end_cursor)return this.$4.has_next_page;else throw new Error("hasNextPage called on unknown cursor")};c.hasPreviousPage=function(a){var b=this.$17(a);if(this.$5.getResource(b-1))return!0;else if(a==this.$4.start_cursor)return this.$4.has_previous_page;else throw new Error("hasPreviousPage called on unknown cursor")};c.hasLooped=function(){return this.$3.enableLooping&&this.$16};c.getItemAtIndex=function(a,b){var c=this;a=this.$15(a);this.$5.executeOrEnqueue([a],function(d){b(c.$7[d[a]])})};c.getItemAtIndexImmediate=function(a){a=this.$15(a);a=this.$5.getResource(a);var b;a&&(b=this.$7[a]);return b};c.getAvailableRange=function(){var a=this.$17(this.$4.start_cursor),b=this.$17(this.$4.end_cursor);return{offset:a,length:b-a+1}};c.getCursorForID=function(a){return this.$8[a]};c.getIndexForID=function(a){a=this.getCursorForID(a);return a!==void 0?this.$6[a]:void 0};c.$22=function(a){if(a)for(var b=0;b<a.length;++b)delete this.$11[a[b]]};c.$18=function(a){if(!this.$11)return a;var b=[];for(var c=0;c<a.length;++c)this.$11[a[c]]||b.push(a[c]);return b};c.$13=function(){this.$16={start:this.$9,end:this.$10}};c.setPreFetchCallback=function(a){this.$19=a};return a}();e.exports=a}),null);
__d("PhotoStorePagedQueryCacheCore",["PagedQuery","PagedQueryCache"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e=c.query_results,f=c.query_metadata,g=b("PagedQuery").constructFromPath(f.query_string,f.query_path);d=a.call(this,d,g,e,babelHelpers["extends"]({enableLooping:!0},f.config))||this;d.$PhotoStorePagedQueryCacheCore1=c.set_id;d.$PhotoStorePagedQueryCacheCore2=c.payloadsource;d.setPayloadCallback(d.$PhotoStorePagedQueryCacheCore3.bind(babelHelpers.assertThisInitialized(d)));return d}var d=c.prototype;d.$PhotoStorePagedQueryCacheCore3=function(a){a.set_id=this.$PhotoStorePagedQueryCacheCore1,this.broadcastUpdate(this.$PhotoStorePagedQueryCacheCore2,a)};d.broadcastUpdate=function(a,b){};return c}(b("PagedQueryCache"));e.exports=a}),null);
__d("replaceJSMarkupMarkers",["HTML"],(function(a,b,c,d,e,f){function g(a){return a&&typeof a==="object"}function h(a){if(!g(a))return a;loop:for(var c in a){if(g(a[c])&&Object.prototype.hasOwnProperty.call(a[c],"markup")){var d=a[c].markup;if(g(d)&&Object.prototype.hasOwnProperty.call(d,"__html")){a[c]=b("HTML").replaceJSONWrapper(d).getRootNode();continue loop}}a[c]=h(a[c])}return a}e.exports=h}),null);
__d("MSnowflakePagedQueryCache",["MPhotoCentralUpdates","MRequest","MSnowflakeJSConstants","PhotoStorePagedQueryCacheCore","replaceJSMarkupMarkers"],(function(a,b,c,d,e,f){function g(a,c,d,e,f,g,h,i){c=new(b("MRequest"))(b("MSnowflakeJSConstants").PAGE_PATH).setData({set:a,first:h.first,after:h.after,_ft_:d});c.listen("process",function(a){a=b("replaceJSMarkupMarkers")(a.data.payload);i({requested_indices:f,query_results:a.output,query_metadata:{query_string:a.query},query_params:h})});c.send()}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b,g.bind(null,b.set_id,b.tracking_data))||this}var d=c.prototype;d.broadcastUpdate=function(a,c){b("MPhotoCentralUpdates").handleUpdate(a,c)};return c}(b("PhotoStorePagedQueryCacheCore"));e.exports=a}),null);